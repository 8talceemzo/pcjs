(function(){/*
 https://www.pcjs.org/modules/defs.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/numio.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/stdio.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/webio.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/device.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/input.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/led.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/monitor.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/time.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/bus.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/memory.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/ram.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/rom.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/cpu.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/debugger.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/cpu68k.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/dbg68k.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/eamodes.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/ioregs.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/video.js (C) 2012-2021 Jeff Parsons
 https://www.pcjs.org/modules/machine.js (C) 2012-2021 Jeff Parsons
*/
var h;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function ba(a){if(!(a instanceof Array)){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];a=b?b.call(a):{next:aa(a)};for(var c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}
var ca="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},da="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ea(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var fa=ea(this);function m(a,b){if(b)a:{var c=fa;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];if(!(f in c))break a;c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&da(c,a,{configurable:!0,writable:!0,value:b})}}var ha;
if("function"==typeof Object.setPrototypeOf)ha=Object.setPrototypeOf;else{var ia;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;ia=ka.a;break a}catch(a){}ia=!1}ha=ia?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=ha;
function r(a,b){a.prototype=ca(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.Wg=b.prototype}function ma(){for(var a=Number(this),b=[],c=a;c<arguments.length;c++)b[c-a]=arguments[c];return b}
m("Math.trunc",function(a){return a?a:function(b){b=Number(b);if(isNaN(b)||Infinity===b||-Infinity===b||0===b)return b;var c=Math.floor(Math.abs(b));return 0>b?-c:c}});m("Math.log2",function(a){return a?a:function(b){return Math.log(b)/Math.LN2}});
m("String.prototype.repeat",function(a){return a?a:function(b){if(null==this)throw new TypeError("The 'this' value for String.prototype.repeat must not be null or undefined");var c=this;if(0>b||1342177279<b)throw new RangeError("Invalid count value");b|=0;for(var d="";b;)if(b&1&&(d+=c),b>>>=1)c+=c;return d}});
m("Symbol",function(a){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(g||"")+"_"+f++,g)}function c(g,e){this.g=g;da(this,"description",{configurable:!0,writable:!0,value:e})}if(a)return a;c.prototype.toString=function(){return this.g};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",f=0;return b});
m("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=fa[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&da(d.prototype,a,{configurable:!0,writable:!0,value:function(){return na(aa(this))}})}return a});function na(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function oa(a,b){a instanceof String&&(a+="");var c=0,d=!1,f={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};f[Symbol.iterator]=function(){return f};return f}m("Array.prototype.keys",function(a){return a?a:function(){return oa(this,function(b){return b})}});
m("Array.prototype.fill",function(a){return a?a:function(b,c,d){var f=this.length||0;0>c&&(c=Math.max(0,f+c));if(null==d||d>f)d=f;d=Number(d);0>d&&(d=Math.max(0,f+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});function pa(a){return a?a:Array.prototype.fill}m("Int8Array.prototype.fill",pa);m("Uint8Array.prototype.fill",pa);m("Uint8ClampedArray.prototype.fill",pa);m("Int16Array.prototype.fill",pa);m("Uint16Array.prototype.fill",pa);m("Int32Array.prototype.fill",pa);
m("Uint32Array.prototype.fill",pa);m("Float32Array.prototype.fill",pa);m("Float64Array.prototype.fill",pa);m("Number.parseInt",function(a){return a||parseInt});m("Array.prototype.values",function(a){return a?a:function(){return oa(this,function(b,c){return c})}});function qa(){}var ra,sa=new ArrayBuffer(2);(new DataView(sa)).setUint16(0,256,!0);ra=256===(new Uint16Array(sa))[0];var t={qc:0xffffffffffff,NONE:0,Cd:0,fb:0x800000000000},w={};w.Defs=qa;function ta(){}r(ta,qa);
function ua(a,b){if(a){b||(b=10);var c,d=0<a.indexOf(",");d&&(a=a.replace(/,/g,""));var f=c=a.charAt(0);"#"==c?(b=8,c=""):"$"==c&&(b=16,c="");f!=c?a=a.substr(1):(f=c=a.substr(0,2),"0b"==c&&d||"^B"==c?(b=2,c=""):"0o"==c||"^O"==c?(b=8,c=""):"^D"==c?(b=10,c=""):"0x"==c&&(b=16,c=""),f!=c&&(a=a.substr(2)));f=c=a.slice(-1);"Y"==c||"y"==c?(b=2,c=""):"."==c?(b=10,c=""):"H"==c||"h"==c?(b=16,c=""):"K"==c?c="000":"M"==c?c="000000":"G"==c&&(c="000000000");f!=c&&(a=a.slice(0,-1)+c);var g;f=0;10>=b&&(c=a.match(/(-?[0-9]+)B([0-9]*)$/))&&
(a=c[1],f=35-((c[2]||35)&255));if((b&&10!=b?16==b?null!==a.match(/^-?[0-9a-f]+$/i):8==b?null!==a.match(/^-?[0-7]+$/):2==b&&null!==a.match(/^-?[01]+$/):null!==a.match(/^[+-]?[0-9]+$/))&&!isNaN(g=parseInt(a,b))){f&&(0>g&&(g+=Math.pow(2,36)),g=0<f?g*Math.pow(2,f):Math.trunc(g/Math.pow(2,-f)));var e=g}}return e}
function va(a,b,c,d,f){d=void 0===d?0:d;var g=void 0===g?0:g;var e="",k="",l=-1;c||(c=a.wa||10);d&&(l=Math.ceil(d/Math.log2(c)));if(void 0==f)switch(c){case 8:f="0o";break;case 16:f="0x";break;case 10:k=".";default:f=""}isNaN(b)||"number"!=typeof b?(b=void 0,f=k=""):(0>b&&-1<b&&(b=-1),d&&(0>b&&(b+=Math.pow(2,d)),b>=Math.pow(2,d)&&(l=Math.ceil(Math.log(b)/Math.log(c)))));for(a=g||-1;l--;){a||(e=","+e,a=g);if(void 0==b){if(e="?"+e,0>l)break}else if(d=b%c,b=Math.trunc(b/c),d+=0<=d&&9>=d?48:55,e=String.fromCharCode(d)+
e,!b&&0>l)break;a--}return f+e+k}function wa(a,b){var c=a/y|0,d=b/y|0;return(a&b)==(b|0)&&(c&d)==d}var y=Math.pow(2,32);w.NumIO=ta;function xa(){this.Za={};for(var a=0;22>a;a++)this.Za["ACDFHGMNSTWYbdfjcsoXx%"[a]]=null}r(xa,ta);function ya(a,b,c){a.Za[b]||(a.Za[b]=c)}h=xa.prototype;h.flush=function(){var a=za;za="";this.Qa(a)};function Aa(a){var b=a,c=a.lastIndexOf("/");0<=c&&(b=a.substr(c+1));c=b.indexOf("&");0<c&&(b=b.substr(0,c));c=b.lastIndexOf(".");0<c&&(b=b.substring(0,c));return b}
h.Ue=function(){var a=ma.apply(0,arguments);if(void 0===a[0])a=new Date(Date.now());else if("string"===typeof a[0]){var b=a[0];0>b.indexOf(":")?b+=" "+(a[1]||"00:00:00 UTC"):b.match(/^[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9] [0-9][0-9]:[0-9][0-9]:[0-9][0-9]$/)&&(a[1]||(b+=" UTC"));a=new Date(b)}else a=void 0===a[1]?new Date(a[0]):new Date(Date.UTC.apply(Date,ba(a)));return a};
h.Qa=function(a,b){var c=a.lastIndexOf("\n");b?0<=c&&(b=Date.now(),Ba||(Ba=b),a=((b-Ba)/1E3).toFixed(3)+": "+a):(0<=c&&(console.log(za+a.substr(0,c)),za="",a=a.substr(c+1)),Ba=null);za+=a;return a.length};function B(a,b,c){a.Qa(b+"\n",c)}h.Y=function(a){return this.Qa(this.T.apply(this,[a].concat(ba(ma.apply(1,arguments)))))};
h.T=function(a){var b=ma.apply(1,arguments);if(!b||!b.length)return a;var c="",d=a.split(/%([-+ 0#]*)([0-9]*|\*)(\.[0-9]+|)([bwhlL]?)([A-Za-z%])/),f=0,g;for(g=0;g<d.length-6;g+=6){c+=d[g];var e=d[g+5];if(void 0===this.Za[e])c+="%"+d[g+1]+d[g+2]+d[g+3]+d[g+4]+e;else{if(f<b.length){var k=b[f];"%"!=e&&f++}else k=b[b.length-1];var l=d[g+1],p=0<=l.indexOf("#"),n=0<=l.indexOf("0"),q=d[g+2];"*"==q?(q=k,k=f<b.length?b[f++]:b[b.length-1]):q=+q||0;var v=d[g+3];v=v?+v.substr(1):-1;var A=d[g+4],z=null,x=0,C=
"";var u=0<="ACDFHGMNSTWY".indexOf(e)&&"object"!=typeof k?this.Ue(k):k;switch(e){case "C":k=p?"#":"";c+=isNaN(u.getTime())?void 0:this.T(this.T("%%%sW, %%%sF %%%sD, %%%sY",k),u);continue;case "D":k=p?u.getUTCDate():u.getDate();e="d";break;case "A":case "G":case "H":k=p?u.getUTCHours():u.getHours();"A"==e?(k=12>k?"am":"pm",e="s"):("G"==e&&(k=k?12<k?k-12:k:12),e="d");break;case "F":case "M":k=p?u.getUTCMonth():u.getMonth();"F"==e?(k=Ca[k],e="s"):(k++,e="d");break;case "N":k=p?u.getUTCMinutes():u.getMinutes();
e="d";break;case "S":k=p?u.getUTCSeconds():u.getSeconds();e="d";break;case "T":k=p?"#":"";c+=isNaN(u.getTime())?void 0:this.T(this.T("%%%sY-%%%s02M-%%%s02D %%%s02H:%%%s02N:%%%s02S",k),u);continue;case "W":k=Da[p?u.getUTCDay():u.getDay()];e="s";break;case "Y":k=p?u.getUTCFullYear():u.getFullYear(),0<v&&(k%=Math.pow(10,v),v=-1),e="d"}switch(e){case "b":c+=k?"true":"false";break;case "d":k=Math.trunc(k),0<=v&&(n=!0,q<v&&(q=v),v=-1);case "f":k=+k;u=k+"";0<=v&&(u=k.toFixed(v));u.length<q&&(n?(0>k&&(q--,
u=u.substr(1)),u=("0".repeat(q)+u).slice(-q),0>k&&(u="-"+u)):u=(" ".repeat(q)+u).slice(-q));c+=u;break;case "j":c+=JSON.stringify(k,null,q||void 0);break;case "c":k="string"==typeof k?k[0]:String.fromCharCode(k);case "s":if(void 0!=k)for("string"!=typeof k&&(k=k.toString()),0<=v&&(k=k.substr(0,v));k.length<q;)k=0<=l.indexOf("-")?k+" ":" "+k;c+=k;break;case "o":x=8,p&&(C="0");case "X":z=Ea;case "x":u="";x||(x=16);!C&&p&&(C="0x");z||(z=Fa);k=Math.trunc(k);0<=v&&(n=!0,q<v&&(q=v));n&&!q&&("b"==A?q=2:
"h"==A||"w"==A?q=4:"l"==A?q=8:(q=Math.abs(k),q=255>=q?2:65535>=q?4:4294967295>=q?8:9),q+=C.length);q-=C.length;do p=k&x-1,k>>>=16==x?4:3,n||!u||p||k?u=z[p]+u:(C&&(u=C+u,C=""),0<q&&(u=" "+u));while(0<--q||k);c+=C+u;break;case "%":c+="%";break;default:c=this.Za[e]?c+this.Za[e](e,l,q,v,k):c+("(unimplemented sprintf type: %"+e+")")}}}return c+=d[g]};var za="",Ba=null,Fa="0123456789abcdef",Ea="0123456789ABCDEF",Da="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ca="January February March April May June July August September October November December".split(" ");
w.StdIO=xa;function Ga(a){xa.call(this);this.sa={};this.Da=0;this.aa=this;a&&(this.aa.Da=0,this.aa.Pa=[],this.aa.La=0,this.aa.rb={},this.aa.gb=!1)}var Ha;r(Ga,xa);h=Ga.prototype;h.Wa=function(a,b){var c=this,d=this;switch(a){case Ia.xd:b.onclick=function(){var f=c.Sa(Ia.tb,!0);f&&(f.value="")};break;case Ia.tb:Ja(b),b.addEventListener("keydown",function(f){Ka(d,f,!0)}),b.addEventListener("keypress",function(f){Ka(d,f)})}};
function La(a,b){var c=Ma.vc;a.aa.rb[c]||(a.aa.rb[c]=[]);a.aa.rb[c].push(b)}function Ja(a){a.setAttribute("autocapitalize","off");a.setAttribute("autocomplete","off");a.setAttribute("autocorrect","off");a.setAttribute("spellcheck","false");a.value=""}h.error=function(a,b){b=this.T.apply(this,[a].concat(ba(b)));var c="%s";a=!1;"boolean"==typeof c&&(a=c,c=b.shift());if(b=this.T.apply(this,[c].concat(ba(b))))B(this,b),a||alert(b)};h.Sa=function(a){return this.sa[a]};
function Na(a,b,c){if(a){do{for(var d=0;d<Oa.length;d++){var f=Oa[d];if(c){if(f+=c,b+f in a)return f}else if(f=f?f+b[0].toUpperCase():b[0],f+=b.substr(1),f in a)return f}if(0>b.indexOf("screen"))break;b=b.replace("screen","Screen")}while(1)}return null}function Pa(a,b){return a.J.bindings&&a.J.bindings[b]}function Qa(a){if(a=a.sa[Ra])var b=a.textContent;return b}function Sa(a,b,c){a=+a||0;a<b&&(a=b);a>c&&(a=c);return a}
function D(a,b,c,d){a=a.J[b];void 0===a?a=c:(d&&void 0!==d[a]&&(a=d[a]),d=typeof c,typeof a!=d&&("boolean"==d?a=!!a:"number"==typeof c&&(a=+a)));return a}
function Ta(a,b){var c=0,d=null,f=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");f.onreadystatechange=function(){4!==f.readyState?b(a,d,f.readyState,c):(d=f.responseText,200==f.status||!f.status&&d.length&&"file:"==(window?window.location.protocol:"file:")||(c=f.status||-1),b(a,d,f.readyState,c))};f.open("GET",a,!0);f.send()}
function Ua(){var a,b=Ha;if(!b){b={};if(window){a||(a=window.location.search.substr(1));for(var c,d=/\+/g,f=/([^&=]+)=?([^&]*)/g;c=f.exec(a);)b[decodeURIComponent(c[1].replace(d," ")).trim()]=decodeURIComponent(c[2].replace(d," ")).trim()}Ha=b}return b}function Va(a){if(void 0===Wa.Kb){var b=!1;if(window)try{window.localStorage.setItem(Wa.lb,Wa.lb),b=window.localStorage.getItem(Wa.lb)==Wa.lb,window.localStorage.removeItem(Wa.lb)}catch(c){B(a,c.message),b=!1}Wa.Kb=b}return!!Wa.Kb}
function Xa(a,b){b=void 0===b?0:b;1<b&&b%2&&b--;b=b||a.Da;return-1==(b|1)||wa(a.aa.Da,b)?!0:!1}function Ya(a){if(window){var b=window.navigator.userAgent;return"iOS"==a&&(!!b.match(/(iPod|iPhone|iPad)/)||"MacIntel"===window.navigator.platform&&1<window.navigator.maxTouchPoints)||"MSIE"==a&&!!b.match(/(MSIE|Trident)/)||0<=b.indexOf(a)}return!1}function Za(a){var b=null;if(Va(a)){var c;if(window)try{(c=window.localStorage.getItem(a.fa))&&(b=JSON.parse(c))}catch(d){B(a,d.message)}}return b}
function Ka(a,b,c){b=b||window.event;var d=b.which||b.keyCode;if(d){var f=a.aa,g=b.target;if(c){a=!1;var e;c=g.value;var k=c.lastIndexOf("\n");d==E.sc&&g.selectionStart<=k+1&&(a=!0);d==E.ye?(a=!0,0<f.La&&(e=f.Pa[--f.La])):d==E.Ed&&(a=!0,f.La<f.Pa.length&&(e=f.Pa[++f.La]||""));a&&b.preventDefault();void 0!=e&&(g.value=c.substr(0,k+1)+e)}else d=String.fromCharCode(d),e=g.value,c=e.lastIndexOf("\n"),g.selectionStart<=c&&g.setSelectionRange(e.length,e.length),b.stopPropagation(),"@"==d&&0<f.La&&c+1==
e.length&&(g.value+=f.Pa[--f.La],d="\r"),"\r"==d&&(b.preventDefault(),e=g.value+="\n",g.blur(),g.focus(),(b=$a(a,e.slice(e.lastIndexOf("\n",e.length-2)+1,-1)||""))&&B(a,b.replace(/\n$/,""),!1))}}function ab(a){if(window){var b=window.onresize;window.onresize="function"!==typeof b?a:function(){b&&b();a()}}}function bb(a){return"true"==a||"on"==a?!0:"false"==a||"off"==a?!1:void 0}
function cb(a,b){if(void 0!=b){var c=a.aa;try{if(b=b.trim())c.La<c.Pa.length&&b==c.Pa[c.La]?c.La++:(c.Pa.push(b),c.La=c.Pa.length);var d=b.split(" "),f=d[0],g=a.aa.rb[Ma.vc];switch(f[0]){case "m":if("?"==f[1]){var e="";db.forEach(function(q){e+=q+"\n"});e&&(e="message commands:\n"+e);break}e="";var k=void 0;f=d[d.length-1].toLowerCase();var l=bb(f);void 0!=l&&d.pop();1>=d.length&&(void 0!=l&&(k=l,l=void 0),d[1]="all");"all"==d[1]&&(d=Object.keys(F));for(g=1;g<d.length;g++){f=d[g];var p=F[f];if(!p){e+=
"unrecognized message: "+f+"\n";break}void 0!=l&&eb(a,p,l);if(void 0==k||k==Xa(a,p))e+=a.T("%8s: %b\n",f,Xa(a,p))}Xa(a,t.fb)&&(e+="all messages will be buffered until buffer is turned off\n");e||(e="no messages\n");break;case "?":e="",fb.forEach(function(q){e+=q+"\n"}),e&&(e="default commands:\n"+e);default:if(d.unshift(b),g)for(a=0;a<g.length;a++){var n=g[a](d);if(void 0!=n){e=e?e+n:n;break}}}}catch(q){e="error: "+q.message+"\n"}}return e}
function $a(a,b){b=void 0===b?"?":b;if(b){var c="";b=b.split(/(?:\n|;\s*)/);for(var d=0;d<b.length;d++)c+=cb(a,b[d])}return c}h.Qa=function(a,b){void 0==b&&(b=Xa(this,t.fb));if(!b){var c=this.Sa(Ia.tb,!0);if(c)return c.value.substr(-a.length)!=a&&(c.value+=a,8192<c.value.length&&(c.value=c.value.substr(c.value.length-4096)),c.scrollTop=c.scrollHeight,Ya("iOS")||c.setSelectionRange(c.value.length,c.value.length)),a.length}return xa.prototype.Qa.call(this,a,b)};
h.Y=function(a){var b=ma.apply(1,arguments),c=0;"number"==typeof a&&(c=a,a=b.shift());return Xa(this,c)?xa.prototype.Y.call.apply(xa.prototype.Y,[this,a].concat(ba(b))):0};function gb(a,b){if(Va(a)){b=JSON.stringify(b);try{window.localStorage.setItem(a.fa,b)}catch(c){B(a,c.message)}}}function hb(a,b,c){(a=a.sa[b])&&a.textContent!=c&&(a.textContent=c)}
function eb(a,b,c){var d=!1;c?(c=a.aa.Da,a.aa.Da=(c|b)+(c/y|0|b/y|0)*y):(d=wa(a.aa.Da,t.fb)&&wa(b,t.fb),c=a.aa.Da,a.aa.Da=(c&~b)+((c/y|0)&~(b/y|0))*y);d&&a.flush()}
var Ia={xd:"clear",tb:"print"},fb=["\u2191 \u2193\t\trecall commands","@\t\trepeat last command","m?\t\tmessage commands"],db=["m\t\tdisplay all messages","m on\t\tdisplay all active messages","m off\t\tdisplay all inactive messages","m all [on|off]\tturn all messages on or off","m ... [on|off]\tturn selected messages on or off"],F={all:t.qc,buffer:t.fb},Ma={vc:"command"},ib={xc:13,Jb:65,rc:66,tc:67,yc:68,E:69,Ac:70,Cc:71,Dc:72,Ec:73,Fc:74,Oc:75,Qc:76,Tc:77,Vc:78,Wc:79,Xc:80,Q:81,Yc:82,$c:83,bd:84,
cd:85,dd:86,fd:87,gd:88,hd:89,Ub:90,a:97,b:98,c:99,d:100,e:101,f:102,Ng:103,Og:104,Pg:105,Qg:106,k:107,Rg:108,Sg:109,n:110,Tg:111,p:112,q:113,r:114,Ug:115,t:116,Xg:117,Yg:118,w:119,x:120,y:121,z:122},E={sc:8,se:9,Wd:10,xc:13,pe:16,Ad:17,ud:18,zg:19,Lb:20,Bf:27,re:32,Cg:33,Bg:34,Af:35,Wf:36,Sc:37,ye:38,Qb:39,Tf:39,Ed:40,Qf:44,Dg:44,Xf:45,zf:46,Sf:46,Vf:47,ZERO:48,ONE:49,xe:50,te:51,Pd:52,Od:53,qe:54,oe:55,Fd:56,ae:57,Md:59,Ld:61,Jb:65,rc:66,tc:67,yc:68,E:69,Ac:70,Cc:71,Dc:72,Ec:73,Fc:74,Oc:75,Qc:76,
Tc:77,Vc:78,Wc:79,Xc:80,Q:81,Yc:82,$c:83,bd:84,cd:85,dd:86,fd:87,gd:88,hd:89,Ub:90,uc:91,Rf:91,Pf:92,Gg:93,Uf:93,ag:96,rg:96,Of:96,bg:97,pg:97,cg:98,og:98,dg:99,ug:99,eg:100,sg:100,fg:101,lg:101,gg:102,wg:102,hg:103,qg:103,ig:104,yg:104,jg:105,vg:105,tg:106,kg:107,xg:109,mg:110,ng:111,Cf:112,Gf:113,Hf:114,If:115,Jf:116,Kf:117,Lf:118,Mf:119,Nf:120,Df:121,Ef:122,Ff:123,be:144,le:145,Kd:173,me:186,Gd:187,xf:188,Bd:189,Ag:190,Ig:191,vf:192,Yf:219,wf:220,Fg:221,Eg:222,Jd:224,Zf:901,ed:1E3},jb={},kb=(jb[E.Md]=
E.me,jb[E.Ld]=E.Gd,jb[E.Kd]=E.Bd,jb[E.Jd]=E.uc,jb),lb={Sc:1,Qb:2,$f:3},G={},mb=(G[E.sc]="\b",G[E.se]="\t",G[E.Wd]="\n",G[E.xc]="\r",G[E.re]=" ",G[E.ZERO]="0",G[E.ONE]="1",G[E.xe]="2",G[E.te]="3",G[E.Pd]="4",G[E.Od]="5",G[E.qe]="6",G[E.oe]="7",G[E.Fd]="8",G[E.ae]="9",G[E.Jb]="A",G[E.rc]="B",G[E.tc]="C",G[E.yc]="D",G[E.E]="E",G[E.Ac]="F",G[E.Cc]="G",G[E.Dc]="H",G[E.Ec]="I",G[E.Fc]="J",G[E.Oc]="K",G[E.Qc]="L",G[E.Tc]="M",G[E.Vc]="N",G[E.Wc]="O",G[E.Xc]="P",G[E.Q]="Q",G[E.Yc]="R",G[E.$c]="S",G[E.bd]=
"T",G[E.cd]="U",G[E.dd]="V",G[E.fd]="W",G[E.gd]="X",G[E.hd]="Y",G[E.Ub]="Z",G[E.Sc]="Left",G[E.Qb]="Right",G),Oa=["","moz","ms","webkit"],nb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",
crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",
forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",
lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",
seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Wa={Kb:void 0,lb:"PCjs.localStorage"};w.WebIO=Ga;
function H(a,b,c,d){a=void 0===a?"default":a;b=void 0===b?a:b;c=void 0===c?{}:c;d=void 0===d?[]:d;Ga.call(this,a==b);this.fa=a;this.ia=b;ob[this.fa]||(ob[this.fa]={});ob[this.fa][this.ia]&&this.Y("warning: machine configuration contains multiple '%s' devices\n",this.ia);ob[this.fa][this.ia]=this;this.id=this.fa==this.ia?this.fa:this.fa+"."+this.ia;pb.push(this);this.aa=qb(this,this.fa);this.ready=!0;rb(this,c,d);this.hb={};this.Uc=[]}r(H,Ga);h=H.prototype;h.Vb=function(){};h.Wb=function(){};
function rb(a,b,c){c=b.overrides||c;if(c.length){var d=Ua();for(k in d)if(0<=c.indexOf(k)){var f=d[k],g=ua(f,10);void 0==g&&("true"==f?g=!0:"false"==f?g=!1:(g=f,f='"'+f+'"'));b[k]=g;B(a,"overriding "+a.ia+" property '"+k+"' with "+f)}}a.J=b;c=b.bindings;c=void 0===c?{}:c;if("undefined"!=typeof document){a.J.sa||(a.J.sa=c);(d=Array.isArray(c))?0>c.indexOf("container")&&c.push("container"):c.container||(c.container=a.ia);for(var e in c){f=c[e];if(d)e=f;else if(f.match(/^[0-9]+$/)){var k=+f;a.sa[e]=
[];do{f=e+k++;f=document.getElementById(f);if(!f)break;a.sa[e].push(f)}while(1);continue}if(k=document.getElementById(f))a.sa[e]=k,a.Wa(e,k)}}b=void 0===b?{}:b;a.version=2;if(a.version){e="";var l;a.fa!=a.ia&&(l=qb(a,a.fa).version)&&l!=a.version&&(e="Machine");e||(l=b.version)&&l>a.version&&(e="Config");e&&(l=a.T("%s Device version (%3.2f) incompatible with %s version (%3.2f)",b.Kg,a.version,e,l),a.error("%s\n\nClearing your browser's cache may resolve the issue.",l))}}
function I(a,b,c,d){a.hb[b]={get:c.bind(a),set:d?d.bind(a):null}}function sb(a,b){var c;try{var d=ob[a.fa];if(d)for(c in d){var f=d[c];if(f.ia!=f.fa&&!b(f))return!1}return!0}catch(g){a.Y("error while enumerating device '%s': %s\n",c,g.message)}return!1}h.Sa=function(a,b){b=void 0===b?!1:b;if(a){var c=Ga.prototype.Sa.call(this,a,b);if(void 0===c&&b){b=ob[this.fa];for(var d in b)if(c=b[d].sa[a])break;c||(c=null);this.sa[a]=c}}return c};
function qb(a,b,c){var d=b,f=a.fa,g=f.indexOf(".");0<g&&(f=f.substr(0,g),b=b.substr(g+1));b=(g=ob[f])&&g[b]||null;if(!b){for(g=0;g<pb.length;g++)if(pb[g].id===d){b=pb[g];break}if(!b&&(void 0===c||c))throw Error(a.T('no "%s" device',d));}return b}function J(a,b,c){var d=null,f=ob[a.fa];if(f)for(var g in f)if(f[g].J["class"]==b){if(d){d=null;break}d=f[g]}if(!d&&(void 0===c||c))throw Error(a.T("no %s device",b));return d}function tb(a,b){var c=qb(a,a.fa);return c&&c.J&&c.J[b]||a.J[b]}
function ub(a,b){return(a=a.hb[b])&&a.get()}function vb(a){return a==a.aa&&a.ready?sb(a,function(b){return vb(b)}):a.ready}function wb(a,b){b=void 0===b?a.ready:b;a.ready=b;if(vb(a)){for(;b=a.Uc.pop();)b();a!=a.aa&&wb(a.aa)}}function xb(a,b){if(vb(a))return b(),!0;a.Uc.push(b);return!1}h.qd=function(){};
h.Y=function(a){var b=ma.apply(1,arguments);return"number"==typeof a&&Xa(this,a)&&(void 0===this.pa&&(this.pa=J(this,"Debugger",!1)),this.pa&&this.pa.qd(a),this.aa.Da&t.pc&&(void 0===this.g&&(this.g=J(this,"CPU")),this.g))?(a=b.shift(),Ga.prototype.Y.call(this,"%#06x: %s.%s\n",this.g.Ta,this.ia,this.T.apply(this,[a].concat(ba(b))).trim())):Ga.prototype.Y.call.apply(Ga.prototype.Y,[this,a].concat(ba(b)))};function yb(a,b){(a=ob[a.fa])&&delete a[b]}function zb(a,b,c){(a=a.hb[b])&&a.set&&a.set(c)}
"undefined"!=typeof window&&(window.PCjs||(window.PCjs={}),window.PCjs.Machines||(window.PCjs.Machines={}),window.PCjs.Components||(window.PCjs.Components=[]));var ob="undefined"!=typeof window?window.PCjs.Machines:{},pb="undefined"!=typeof window?window.PCjs.Components:[];t.pc=1;t.vd=2;t.Id=4;t.Xd=8;t.ge=16;t.wd=32;t.Vd=64;t.ne=128;t.Yd=256;t.zd=512;t.Zd=1024;t.INT=2048;t.we=4096;t.Ae=8192;t.sb=16384;t.ke=32768;t.Dd=65536;t.Nd=131072;t.ub=262144;t.ue=524288;t.zc=1048576;t.Na=2097152;t.Pc=4194304;
t.$d=8388608;t.ve=16777216;t.Rd=33554432;t.vb=67108864;t.Hd=134217728;t.Qd=268435456;t.yf=4294967296;F.addr=t.pc;F.bus=t.vd;F.fault=t.Id;F.memory=t.Xd;F.ports=t.ge;F.chips=t.wd;F.kbd=t.Vd;F.serial=t.ne;F.misc=t.Yd;F.cpu=t.zd;F.mmu=t.Zd;F["int"]=t.INT;F.trap=t.we;F.video=t.Ae;F.monitor=t.sb;F.screen=t.ke;F.disk=t.Dd;F.file=t.Nd;F.time=t.ub;F.timer=t.ue;F.event=t.zc;F.input=t.Na;F.key=t.Pc;F.mouse=t.$d;F.touch=t.ve;F.info=t.Rd;F.warn=t.vb;F.error=t.Hd;F.halt=t.Qd;w.Device=H;
function Ab(a,b,c){H.call(this,a,b,c);this.Da=t.Na;this.V=this.L=null;this.time=J(this,"Time");this.aa=J(this,"Machine");this.ba=D(this,"drag",!1);this.S=D(this,"scroll",!1);this.$=D(this,"hexagonal",!1);this.m=D(this,"releaseDelay",0,void 0);this.o=!1;a=this.J.map;this.i=this.l=null;if(a)if(a.length)this.i=a;else{this.l={};b=Object.keys(a);for(var d=0;d<b.length;d++){var f=[],g=b[d],e=a[g];"string"==typeof e?e=[e]:void 0==e.length&&(f=e.grid,e=e.keys,"string"==typeof e&&(e=[e]));this.l[g]={keys:e,
grid:f,state:0}}}this.M=[];this.N=[];this.u=!1;this.j=this.v=null;(a=this.sa[Bb])&&Cb(this,a,this.Sa(c.focusBinding,!0),this.J.location);this.Ca()}r(Ab,H);function Db(a,b){a.L=b}function Eb(a,b,c){for(var d=0;d<a.M.length;d++){var f=a.M[d];f.id===b&&f.yb(b,c)}}
function Cb(a,b,c,d){d=void 0===d?[]:d;if(d.length||a.i||a.l){var f={};f.tf=d[0]||0;f.uf=d[1]||0;f.nb=d[2]||b.clientWidth;f.wb=d[3]||b.clientHeight;f.zb=d[4]||1;f.Gb=d[5]||1;f.Me=d[6]||b.naturalWidth||f.nb;f.Oe=d[7]||b.naturalHeight||f.wb;f.rd=d[8]||0;f.sd=d[9]||0;f.Le=d[10]||0;f.Ne=d[11]||0;a.i?(f.Cb=a.i.length,f.ob=a.i[0].length):(f.ob=f.zb,f.Cb=f.Gb,f.zb=f.Gb=0);f.ld=f.nb/(f.ob+f.ob*f.zb)|0;f.md=f.wb/(f.Cb+f.Cb*f.Gb)|0;f.Ke=f.ld*f.zb|0;f.nd=f.md*f.Gb|0;f.qb=f.Ib=-1;Fb(a,b,f);Gb(a,b,f);a.time&&
a.m&&(a.Z=Hb(a.time,"timerInputRelease",function(){0>f.qb&&0>f.Ib&&Ib(a,-1,-1)}))}if(a.i||a.l)a.time&&a.m&&(a.da=Hb(a.time,"timerKeyRelease",function(){Jb(a)})),a.s=0,a.K="",a.H=[],d=b,c&&(d=c,a.j||"BUTTON"!=c.nodeName||(d=document,a.j=c,Kb(a,b),a.v=b)),Kb(a,d),a.j||(a.j=d)}function Lb(a){a.m?Mb(a.time,a.da,a.m):Jb(a)}
function Kb(a,b){function c(f,g,e){var k=document.activeElement;a.Y(t.Pc+t.zc,"%s.onKey%s(%d): %5.2f (%s)\n",k.id||k.nodeName,f,g,Date.now()/1E3%60,void 0!=e?e?"used":"unused":"ignored")}function d(f,g){f=document.activeElement;return a.j&&f!=a.j&&f!=a.v?null:g||window.event}b.addEventListener("keydown",function(f){if(f=d(this,f)){var g=f.which||f.keyCode,e=Nb(a,g,!0,f);c("Down",g,e);e&&f.preventDefault()}});b.addEventListener("keypress",function(f){if(f=d(this,f)){var g=f.which||f.charCode,e=Nb(a,
g);c("Press",g,e);e&&f.preventDefault()}});b.addEventListener("keyup",function(f){if(f=d(this,f)){var g=f.which||f.keyCode,e=Nb(a,g,!1,f);c("Up",g);e&&f.preventDefault();"TEXTAREA"==b.nodeName&&(b.value="")}})}
function Fb(a,b,c){b.addEventListener("mousedown",function(d){if(!a.o){var f=a.u?a.v:a.j;if(f){var g=window.scrollX,e=window.scrollY;f.focus();window.scrollTo(g,e)}d.button||Ob(a,b,Pb,d,c)}});b.addEventListener("mousemove",function(d){a.o||Ob(a,b,Qb,d,c)});b.addEventListener("mouseup",function(d){a.o||d.button||Ob(a,b,Rb,d,c)});b.addEventListener("mouseout",function(d){a.o||(0>c.qb?Ob(a,b,Qb,d,c):Ob(a,b,Rb,d,c))})}
function Gb(a,b,c){b.addEventListener("touchstart",function(d){a.S&&(a.o=!0);Ob(a,b,Pb,d,c)});b.addEventListener("touchmove",function(d){Ob(a,b,Qb,d,c)});b.addEventListener("touchend",function(d){Ob(a,b,Rb,d,c)})}
function Nb(a,b,c,d){if(void 0!=c){var f=kb[b]||b;var g=mb[b];var e=Sb[f];d=d&&d.location==lb.Qb;e&Tb&&d&&(e>>=1);e&&(e&Ub&&(c=!(a.h&e)),a.h=c?a.h|e:a.h&~e,Eb(a,f,c))}else g=String.fromCharCode(b).toUpperCase(),b>=ib.Jb&&b<=ib.Ub?a.h&(Vb|Wb)||(a.h|=Wb,Eb(a,E.Lb,!0)):b>=ib.a&&b<=ib.z&&a.h&Wb&&(a.h&=~Wb,Eb(a,E.Lb,!1));if(a.i){if(void 0!=c)return!1;for(f=0;f<a.i.length;f++)for(e=a.i[f],d=0;d<e.length;d++)if(0<=e[d].split("|").indexOf(g))return a.s?16>a.H.length&&a.H.push(b):(a.s=1,a.K=g,Ib(a,d,f),Eb(a,
g,!0),Lb(a)),!0}if(a.l){if(void 0==c)return!0;b=Object.keys(a.l);for(f=0;f<b.length;f++)if(e=b[f],0<=a.l[e].keys.indexOf(g))return Eb(a,e,c),a.l[e].state=c?1:0,!0}return!1}function Jb(a){1==a.s?(a.s++,Eb(a,a.K,!1),a.K="",Ib(a,-1,-1),Lb(a)):(a.s=0,a.H.length&&Nb(a,a.H.shift()))}Ab.prototype.Ca=function(){this.h=0;this.O=this.X=-1};
function Ob(a,b,c,d,f){var g=-1,e=-1,k=!1,l=-1,p=-1;if(c<Rb){d=d||window.event;d.targetTouches&&d.targetTouches.length?(l=d.targetTouches[0].clientX,p=d.targetTouches[0].clientY,k=1<d.targetTouches.length):(l=d.clientX,p=d.clientY);var n=d.target.getBoundingClientRect();l-=n.left;p-=n.top;l=f.Me/b.offsetWidth*l|0;p=f.Oe/b.offsetHeight*p|0;var q=l-f.tf;var v=p-f.uf;var A=n=!1;var z=l>=f.rd&&l<f.rd+f.Le&&p>=f.sd&&p<f.sd+f.Ne;if(0<=q&&q<f.nb&&0<=v+f.nd||z)if(k||a.S||d.preventDefault(),0<=q&&q<f.nb&&
0<=v&&v<f.wb){A=!0;d=f.nb/f.ob|0;var x=f.wb/f.Cb|0,C=q/d|0,u=v/x|0;!a.$||u&1||(q-=d>>1,C=q/d|0,C==f.ob-1&&(q=-1));x=u*x+(f.nd>>1);q-=C*d+(f.Ke>>1);v-=x;0<=q&&q<f.ld&&0<=v&&v<f.md&&(g=C,e=u,n=!0)}}q=q||0;v=v||0;d=b.offsetWidth;b=b.offsetHeight;if(c==Pb||c==Rb)for(C=0;C<a.N.length;C++)u=a.N[C],c==Rb?u.yb(u.id,!1):(x=v/(b/u.Mg|0)|0,(q/(d/u.Lg|0)|0)==u.Zg&&x==u.$g&&u.yb(u.id,!0));if(!k)if(c==Pb)f.qb=l,f.Ib=p,A?(Ib(a,g,e),n&&a.m&&Mb(a.time,a.Z,a.m,!0)):z&&a.aa.Fa();else if(c==Qb)0<=f.qb&&0<=f.Ib&&a.ba?
Ib(a,g,e):a.L&&a.L(g,e);else if(c==Rb){if(c=a.m)c=a.time,g=a.Z,c=c.h&&0<g&&g<=c.i.length?0<=c.i[g-1].Ha:!1;c||Ib(a,-1,-1);f.qb=f.Ib=-1}else B(a,"unrecognized action: "+c)}function Xb(a){var b=a.u?a.v:a.j;b&&vb(a.aa)&&(a.Y(t.Na,'setFocus("%s")\n',b.id||b.nodeName),b.focus(),b.scrollIntoView())}function Ib(a,b,c){if(b!=a.O||c!=a.X)a.O=b,a.X=c,a.V&&a.V(b,c)}
var Pb=1,Qb=2,Rb=3,Bb="surface",Vb=3,Tb=170,Wb=512,Ub=3584,Yb={},Sb=(Yb[E.pe]=2,Yb[E.Ad]=8,Yb[E.ud]=32,Yb[E.uc]=128,Yb[E.Lb]=Wb,Yb[E.be]=1024,Yb[E.le]=2048,Yb);w.Input=Ab;
function Zb(a,b,c){H.call(this,a,b,c,["color","backgroundColor"]);a=this.sa[ac];if(!a)throw Error("LED "+this.J.sa[ac]+" binding for '"+ac+"' missing");b=document.createElement("canvas");if(!b||!b.getContext)throw a.innerHTML="LED device requires HTML5 canvas support",Error("LED device requires HTML5 canvas support");this.Ba=Pa(this,ac)+".canvas";b.setAttribute("id",this.Ba);this.type=Sa(D(this,"type",bc,cc),dc,ec);this.l=fc[this.type][0];this.u=fc[this.type][1];this.width=D(this,"width",this.l,void 0);
this.height=D(this,"height",this.u,void 0);this.m=D(this,"cols",1,void 0);this.L=this.m+D(this,"colsExtra",0,void 0);this.$=D(this,"rows",1,void 0);this.O=this.$+D(this,"rowsExtra",0,void 0);this.da=this.width*this.m;this.V=this.height*this.$;this.s=gc("black",0);this.j=hc(this.J.color)||this.s;this.qa=gc(this.j,1,.25);this.ma=gc(this.j,1,2);this.o=hc(this.J.backgroundColor);this.ua=D(this,"fixed",!1);this.ua||(b.style.width="100%",b.style.height="auto");this.la=D(this,"hexagonal",!1);this.za=D(this,
"highlight",!0);this.S=D(this,"persistent",this.type<ec);b.setAttribute("width",this.da.toString());b.setAttribute("height",this.V.toString());b.style.backgroundColor=this.s;a.appendChild(b);this.ga=b.getContext("2d");if(this.v=document.createElement("canvas"))this.v.width=this.ba=this.l*this.m,this.v.height=this.H=this.u*this.$,this.i=this.v.getContext("2d");this.Ea=(this.O+1)*this.L*4;this.h=Array(this.Ea);this.Ja=this.m<this.L?4*(this.L-this.m):0;this.M=this.N=!1;this.K=this.Z=0;this.X=-1;var d=
this;this.time=J(this,"Time");ic(this.time,function(f){jc(d,!1,f)});kc(d)}r(Zb,H);function kc(a){for(var b=a.h,c=0;c<b.length;c+=4){var d=a,f=b,g=c;f[g]=d.type<ec?lc:" ";f[g+1]=d.j==d.s?null:d.j;f[g+2]=0;f[g+3]=mc}a.M=a.N=!0;jc(a,!0)}function nc(a){a.o?(a.i.fillStyle=a.o,a.i.fillRect(0,0,a.ba,a.H)):a.i.clearRect(0,0,a.ba,a.H)}
function jc(a,b,c){b=void 0===b?!1:b;c=void 0===c?0:c;if(a.M||b){if(a.type<ec){var d=0;if(!a.S||b)nc(a);else if(a.K){d=a.m-a.K;var f=a.l*d;a.i.drawImage(a.v,a.l*a.K,0,f,a.H,0,0,f,a.H)}for(var g=f=0;g<a.O;g++){for(var e=0;e<a.m;e++){var k=a.h[f],l=a.h[f+1]||a.s,p=a.za&&f==a.X;if(a.h[f+3]&mc||p||b){if(e>=d)a:{var n=a,q=k;k=l;var v=e;l=g;var A=p;v=void 0===v?0:v;l=void 0===l?0:l;A=void 0===A?!1:A;var z=0;if(n.la&&!(l&1)&&(z=n.l>>1,v==n.m-1))break a;if(k&&k!=n.j){A=A?gc(k,1,2):k;var x=gc(k,1,.25)}else A=
A?n.ma:n.j,x=n.qa;k=!1;q=q?A:x;A==n.s&&(q=n.o,k=!0);A=v*n.l+z;x=l*n.u;n.S&&(v=v*n.l+z,l*=n.u,n.o?(n.i.fillStyle=n.o,n.i.fillRect(v,l,n.l,n.u)):n.i.clearRect(v,l,n.l,n.u));n.i.fillStyle=q;l=oc[n.type];3==l.length?(n.i.beginPath(),n.i.arc(A+l[0],x+l[1],l[2],0,2*Math.PI),k?(n.i.globalCompositeOperation="destination-out",n.i.fill(),n.i.globalCompositeOperation="source-over"):n.i.fill()):n.i.fillRect(A+l[0],x+l[1],l[2],l[3])}a.h[f+3]=p?a.h[f+3]|mc:a.h[f+3]&~mc}f+=4}f+=a.Ja}a.K=0}else{b="";for(d=0;d<a.h.length;d+=
4)b+=a.h[d]||" ",a.h[d+3]&pc&&(b+=".");nc(a);for(g=f=d=0;d<b.length;d++){l=b[d];"."==l&&f&&f--;e=a;p=f;n=g;p=void 0===p?0:p;n=void 0===n?0:n;if(l=qc[l])for(k=0;k<l.length;k++)if(v=e,z=rc[l[k]]){q=(void 0===p?0:p)*v.l;A=(void 0===n?0:n)*v.u;v.i.fillStyle=v.j;v.i.beginPath();if(3==z.length)v.i.arc(q+z[0],A+z[1],z[2],0,2*Math.PI);else for(x=0;x<z.length;x+=2)x?v.i.lineTo(q+z[x],A+z[x+1]):v.i.moveTo(q+z[x],A+z[x+1]);v.i.closePath();v.i.fill()}if(++f==a.m&&(f=0,++g==a.O))break}}a.ga.globalCompositeOperation=
a.o&&a.j!=a.s?"source-over":"copy";a.ga.drawImage(a.v,0,0,a.ba,a.H,0,0,a.da,a.V);a.M=!1;a.X=-1}else a.S||a.N||(!c||!a.Z||c-a.Z>=(1E3/60|0))&&kc(a);a.N=!1;c&&(a.Z=c)}function hc(a){return(a=a||void 0)&&nb[a]||a}
function gc(a,b,c){b=void 0===b?1:b;c=void 0===c?1:c;if(a){var d=[];a=nb[a]||a;var f=16;var g=a.match(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i);g||(f=10,g=a.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,?\s*(\d+|)\)$/i));if(g){var e;for(e=1;e<g.length;e++)d[e-1]=Number.parseInt(g[e],f);d.length=e-1;f=!0}else f=!1;if(f){a="rgba(";for(f=0;3>f;f++)g=Math.round(d[f]*c),g=0>g?0:255<g?255:g,a+=g+",";a+=(f<d.length?d[f]:b)+")"}}return a}
Zb.prototype.Ga=function(a){var b=a.shift(),c=a.shift();a=a.shift();if(b==this.j&&c==this.o&&a&&a.length==this.h.length){this.h=a;for(b=0;b<=this.h.length-4;b+=4)this.h[b+1]==this.s&&(this.h[b+1]=null);jc(this,!0);return!0}return!1};Zb.prototype.Ia=function(a){this.h&&(a.push(this.j),a.push(this.o),a.push(this.h))};
var dc=0,bc=1,ec=3,cc={small:dc,round:bc,square:2,digit:ec},ac="container",lc=0,pc=1,mc=128,sc={},oc=(sc[dc]=[4,4,4],sc[bc]=[16,16,14],sc[2]=[2,2,28,28],sc),fc=[[8,8],[32,32],[32,32],[96,128]],rc={A:[30,8,79,8,67,19,37,19],B:[83,10,77,52,67,46,70,22],C:[77,59,71,100,61,89,64,64],D:[28,91,58,91,69,104,15,104],E:[18,59,28,64,25,88,12,100],F:[24,10,34,21,31,47,18,52],G:[24,56,34,50,60,50,71,56,61,61,33,61],P:[80,102,8]},qc={" ":[],0:"ABCDEF".split(""),1:["B","C"],2:["A","B","D","E","G"],3:["A","B","C",
"D","G"],4:["B","C","F","G"],5:["A","C","D","F","G"],6:"ACDEFG".split(""),7:["A","B","C"],8:"ABCDEFG".split(""),9:"ABCDFG".split(""),A:"ABCEFG".split(""),B:["C","D","E","F","G"],C:["A","D","E","F"],D:["B","C","D","E","G"],E:["A","D","E","F","G"],F:["A","E","F","G"],"-":["G"],".":["P"]};w.LED=Zb;
function tc(a,b,c){H.call(this,a,b,c);var d=this;this.td=this.J.touchType;this.Sb=this.J.diagnostics;this.X=this.J.monitorWidth||640;this.M=this.J.monitorHeight||480;this.l=this.sa[uc.sb];if(!this.l)throw Error("unable to find binding: "+uc.sb);this.h=this.Sa(uc.yd)||this.l;b=this.sa[uc.ad];if(!b){b=document.createElement("canvas");if(a=Pa(this,uc.ad))this.sa[a]=b,b.setAttribute("id",a);b.setAttribute("class","pcjs-surface");b.setAttribute("width",this.J.monitorWidth);b.setAttribute("height",this.J.monitorHeight);
b.style.backgroundColor=this.J.monitorColor||"black";this.l.appendChild(b)}this.m=b;this.v=a=b.getContext("2d");Ya("MSIE")&&(this.l.onresize=function(e,k,l,p){return function(){k.style.height=(e.clientWidth*p/l|0)+"px"}}(this.l,b,this.J.monitorWidth,this.J.monitorHeight),this.l.onresize());(c=+(this.J.aspect||Ua().aspect))&&.3<=c&&3.33>=c&&(ab(function(e,k,l){return function(){k.style.height=(e.clientWidth/l|0)+"px"}}(this.l,b,c)),window.onresize());this.la=this.ga=this.aa.gb=!1;if(c=this.sa[uc.Bc])if(b=
Na(this.h,"requestFullscreen")){this.h.xb=this.h[b];this.la=!0;this.ga=document.fullscreenEnabled||Ya("Edge/");if(b=Na(document,"on","fullscreenchange")){var f=Na(document,"fullscreenElement");document.addEventListener(b,function(){vc(d,null!=document[f])},!1)}(b=Na(document,"on","fullscreenerror"))&&document.addEventListener(b,function(){vc(d)},!1)}else this.Y("Full-screen API not available\n"),c.parentNode.removeChild(c);if(this.td||this.Sb||this.la&&!Ya("iOS")){var g=document.createElement("textarea");
if(b=Pa(this,uc.ce))this.sa[b]=g,g.setAttribute("id",b);g.setAttribute("class","pcjs-overlay");Ya("iOS")&&(Ja(g),g.style.fontSize="16px");this.l.appendChild(g)}(this.s=J(this,"Input",!1))&&Cb(this.s,g||this.l,this.Sa(this.J.focusBinding,!0));g=this.J.smoothing;(b=Ua().smoothing)&&(g="true"==b);this.ma=g;this.Ra=Na(a,"imageSmoothingEnabled");if(this.j=this.J.monitorRotate)this.j=this.j%360,0<this.j&&(this.j-=360),-90!=this.j?(this.Y("unsupported monitor rotation: %d\n",this.j),this.j=0):(a.translate(0,
this.M),a.rotate(this.j*Math.PI/180),a.scale(this.M/this.X,this.X/this.M))}r(tc,H);tc.prototype.Wa=function(a,b){var c=this;switch(a){case uc.Bc:b.onclick=function(){c.aa.gb=1>=window.outerHeight-window.innerHeight;c.aa.gb||c.xb()}}H.prototype.Wa.call(this,a,b)};function wc(a){a.v&&(a.v.fillStyle="black",a.v.fillRect(0,0,a.m.width,a.m.height))}
tc.prototype.xb=function(){var a=!1;if(this.h&&this.h.xb){a="100%";if(screen&&screen.width&&screen.height){var b=screen.width/screen.height,c=this.X/this.M;b>c&&(a=Math.round(c/b*100)+"%")}this.ga?(this.m.style.width=a,this.m.style.height="auto",this.m.style.display="block",this.m.style.margin="auto"):(this.h.style.width=a,this.h.style.height="auto");this.Ea=this.h.style.backgroundColor;this.h.style.backgroundColor="black";this.h.xb();this.s&&(a=this.s,a.u=!0,Xb(a));a=!0}return a};
function vc(a,b){a.aa.gb=!0;b||(a.h&&(a.ga?a.m.style.width=a.m.style.height="":a.h.style.width=a.h.style.height="",a.Ea&&(a.h.style.backgroundColor=a.Ea)),a.aa.gb=!1);a.s&&!b&&(a=a.s,a.u=!1,Xb(a))}tc.prototype.Fa=function(a){a?(xc(this),yc(this)):wc(this)};tc.prototype.Ca=function(){wc(this)};var uc={yd:"container",ad:"surface",sb:"monitor",ce:"overlay",Bc:"fullScreen"};w.Monitor=tc;
function zc(a,b,c){H.call(this,a,b,c);this.qa=D(this,"cyclesMinimum",1E5,void 0);this.Ea=D(this,"cyclesMaximum",1E9,void 0);this.ba=Sa(D(this,"cyclesPerSecond",1E6,void 0),this.qa,this.Ea);this.V=1E3/60;this.Ja=D(this,"updatesPerSecond",2,void 0)||2;this.ab=1E3/this.Ja;this.Ba=0;this.bb=D(this,"timeLock",!0);this.ma=this.L=0;this.la=this.m=1;this.za=this.s=this.ba/1E4/100;this.da=[];this.H=[];this.i=[];this.O=[];this.ua=this.h=this.S=this.v=!1;this.K=this.l=0;a=Na(window,"requestAnimationFrame");
if(!a){a="setTimeout";var d=this.V}this.Ra=window[a].bind(window,this.gf.bind(this),d);this.Va=window[Na(window,"cancelAnimationFrame")||"clearTimeout"].bind(window);this.Z=this.X=this.o=this.j=this.$=0;Ac(this)||Bc(this,this.la)}r(zc,H);function ic(a,b){a.da.push(b)}h=zc.prototype;
h.Wa=function(a,b){var c=this;switch(a){case Cc:b.onclick=function(){Dc(c)&&(c.h?Ec(c):c.start())};break;case Fc:b.onclick=function(){Bc(c,c.m<<1);Gc(c,Hc(c.s))};break;case Ic:b.onclick=function(){Jc(c)};break;case Kc:b.addEventListener("mousedown",function(){c.v=!0}),b.addEventListener("mouseup",function(){Ac(c);c.v=!1}),b.addEventListener("mousemove",function(){c.v&&Ac(c)}),b.addEventListener("change",function(){c.v=!0;Ac(c);c.v=!1})}H.prototype.Wa.call(this,a,b)};
function Hb(a,b,c){var d=void 0===d?-1:d;var f=a.i.length+1;a.i.push({id:b,Fe:c,Bb:d,Ha:-1});0<=d&&Mb(a,f,d);return f}
function Lc(a,b,c,d){var f=0,g=a.s,e=1E6*g;b&&c&&(g=b/(10*c)/100,a.Y(t.ub,"calcSpeed(%d cycles, %5.3fms): %5.3fMhz\n",b,c,g),d>a.V&&(1<a.m&&(a.m>>=1,a.Y(t.vb,"warning: frame time (%5.3fms) exceeded maximum (%5.3fms), target multiplier now %d\n",d,a.V,a.m)),f=d));a.L=g;a.ma=g/a.za;b=a.ma/a.m;a.$=e/b/60+1E-8;a.Y(t.ub,"nCyclesDepositPerFrame(%5.3f) = nCyclesPerSecond(%d) / nDivisor(%5.3f) / nFramesPerSecond(%d)\n",a.$,e,b,60);return f}
function Mc(a,b){a.X=a.o=b;if(!a.H.length)return a.o=0,a.X;for(var c=0;0<a.o;){if(c<a.H.length){var d=a.H[c++];b=d.hf.call(d,b)||1}else c=b=0;a.o-=b}return a.X-a.o}function Nc(a,b){b=void 0===b?a.X-a.o:b;if(!a.h){if(a.j)for(var c=0;c<a.H.length;c++){var d=a.H[c];d.jf.call(d)}a.j=b}a.j-=b;1>a.j&&(a.S=!0);a.Z+=b;a.X=a.o=0;a.h||(a.Z=0);return b}
function Oc(a,b){b=void 0===b?0:b;if(b){var c=b;a.j+=b}else for(c=a.j,1>c&&(c=a.j+=a.$),0>c&&(a.Y(t.vb,"warning: cycle count dropped below zero: %f\n",c),c=a.j=0),c|=0,b=a.i.length;0<b;b--){var d=a.i[b-1];!(0>d.Ha)&&c>d.Ha&&(c=d.Ha)}return c}function Hc(a){1<=a?a=a.toFixed(2)+"Mhz":(a=Math.round(1E6*a),a=999>=a?a+"Hz":Math.ceil(a/1E3)+"Khz");return a}function Pc(a){a.Y(t.ub,"getSpeedCurrent(%5.3fhz)\n",1E6*a.L);return a.h&&a.L?Hc(a.L):"Stopped"}
function Dc(a){return a.ua?!0:(B(a,"not powered"),!1)}function Qc(a,b){if(1<=b)for(var c=a.i.length;0<c;c--){var d=a.i[c-1];0>d.Ha||(d.Ha-=b,0>=d.Ha&&(d.Ha=-1,d.Fe(),0<=d.Bb&&Mb(a,c,d.Bb)))}}h.Fa=function(a){this.ua=a;void 0===this.pa&&(this.pa=J(this,"Debugger",!1))&&this.pa.Vb(this,"time","dump time state",this.Se)};function Jc(a,b){Dc(a)&&(a.h?B(a,"already running"):a.l?Ec(a):Rc(a,b))}
h.gf=function(a){a=void 0===a?Date.now():a;this.K=0;if(this.h){var b=Date.now();if(this.M){var c=b-this.N-this.V;c>this.V&&(this.u+=c,this.Y(t.vb,"warning: browser throttling detected, compensating by %5.3fms\n",c))}this.N=b;this.u||(this.u=b);this.ga=0;try{this.S=!1;do Qc(this,Nc(this,Mc(this,Oc(this))));while(this.h&&!this.S)}catch(d){B(this,d.message),Ec(this)}this.M=Date.now();this.ga&&(this.u+=this.ga,this.N+=this.ga);this.N+=Lc(this,this.Z,this.M-this.u,this.M-this.N);this.M-this.Ba>=this.ab&&
this.update();for(b=0;b<this.da.length;b++)this.da[b](a);this.K=this.Ra()}};function Bc(a,b){if(void 0!==b){if(1>b||!a.v&&0<a.L&&a.L<.9*a.s)b=a.la;a.m=b;b=a.za*a.m;a.s!=b&&(a.s=b,Gc(a,Hc(a.s)))}a.u=a.M=0;a.j=a.Z=0;Lc(a);for(b=a.i.length;0<b;b--){var c=a.i[b-1];0<=c.Bb&&Mb(a,b,c.Bb,!0)}}function Ac(a){var b=a.sa[Kc];return b?(Bc(a,Math.floor((b.value-b.min)/(b.max-b.min)*(a.Ea-a.qa)+a.qa)/a.ba|0),!0):!1}
function Mb(a,b,c,d){0<b&&b<=a.i.length&&(b=a.i[b-1],d||0>b.Ha)&&(c=Math.ceil(a.ba*(a.bb?a.la:a.ma)/1E3*(void 0===c?1E3:c)),a.h&&(c+=Nc(a)),b.Ha=c)}h.start=function(){if(this.h||this.l)return!1;this.h=!0;this.u=this.M=0;this.update(!0);this.K=this.Ra();return!0};function Rc(a,b){b=void 0===b?1:b;a.h||(b&&!a.l&&(a.l=b),a.l&&(a.l--,Qc(a,Nc(a,Mc(a,Oc(a,1)))),a.update(!1),a.l&&setTimeout(function(){Rc(a,0)},0)))}
function Ec(a){return a.h?(a.h=!1,Nc(a),a.K&&(a.Va(a.K),a.K=0),a.update(!0),!0):a.l?(a.l=0,a.update(!0),!0):!1}h.update=function(a){a&&B(this,this.h?"started with "+Hc(this.s)+" target":"stopped");hb(this,Cc,this.h?"Halt":"Run");hb(this,Ic,this.l?"Stop":"Step");this.v||Gc(this,Pc(this));for(var b=0;b<this.O.length;b++){var c=this.O[b];c.$b.call(c,void 0!=a)}this.Ba=Date.now();this.S=!0};function Gc(a,b){hb(a,Sc,b);hb(a,Fc,b)}
h.Se=function(){var a=this.T("nCyclesPerSecond: %f\n",this.ba);a+=this.T("nUpdatesPerSecond: %f\n",this.Ja);a+=this.T("nTargetMultiplier: %f\n",this.m);return a+=this.T("nCyclesDepositPerFrame: %f\n",this.$)};var Cc="run",Fc="setSpeed",Sc="speed",Ic="step",Kc="throttle";w.Time=zc;
function Tc(a,b,c){H.call(this,a,b,c);this.type="static"==this.J.type?Uc:Vc;this.ta=this.J.addrWidth||16;this.u=Math.pow(2,this.ta);this.m=this.u-1|0;this.blockSize=this.J.blockSize||(16<this.ta?4096:1024);this.blockSize>this.u&&(this.blockSize=this.u);this.L=this.u/this.blockSize|0;this.j=Math.log2(this.blockSize)|0;this.i=(1<<this.j)-1;this.l=this.J.dataWidth||8;this.H=Math.pow(2,this.l)-1;this.s=this.l<<1;this.K=Math.pow(2,this.s)-1;this.o=!1!==this.J.littleEndian;this.h=Array(this.L);this.v=0;
a=new K(a,b+"[NONE]",{size:this.blockSize,bus:this.ia});for(b=0;b<this.u;b+=this.blockSize)Wc(this,b,this.blockSize,L.NONE,a);Xc(this,this.type)}r(Tc,H);
function Wc(a,b,c,d,f){for(var g=b>>>a.j;0<c&&g<a.h.length;){var e=g*a.blockSize,k=a.blockSize-(b-e);k>c&&(k=c);var l=a.h[g];if(b!=e||k!=a.blockSize||l&&l.type!=L.NONE)return!1;l=a.ia+"["+va(a,b,16,a.ta)+"]";b=f?f.size==a.blockSize?f:new K(a.fa,l,{type:d,ra:b,size:k,bus:a.ia}):new K(a.fa,l,{type:d,ra:b,size:k,bus:a.ia});a.h[g]=b;b=e+a.blockSize;c-=k;g++}return!0}function Yc(a,b){for(var c=L.je,d=0,f=0;f<a.h.length;f++){var g=a.h[f];g&&g.type&c&&(b(g),d++)}return d}h=Tc.prototype;
h.Fa=function(){void 0===this.pa&&(this.pa=J(this,"Debugger",!1))};h.Ca=function(){};h.Db=function(a){return a&&this.Ga(a)?!0:!1};h.cb=function(a){this.Ia(a)};h.Ga=function(a){for(var b=0;b<this.h.length;b++){var c=this.h[b];if((this.type==Vc||c.type&L.Ua)&&c.Ga){var d=a.shift();if(!c.Ga(d))return!1}}return!0};h.Ia=function(a){for(var b=0;b<this.h.length;b++){var c=this.h[b];if((this.type==Vc||c.type&L.Ua)&&c.Ia){var d=[];c.Ia(d);a.push(d)}}};h.ac=function(a){return this.h[a>>>this.j].ac(a&this.i)};
h.Sd=function(a){return this.h[a>>>this.j].Aa(a&this.i)};h.hc=function(a,b){this.h[a>>>this.j].hc(a&this.i,b)};h.Ma=function(a,b){this.h[a>>>this.j].ya(a&this.i,b)};h.Gc=function(a){return a&1?this.Aa(a+1&this.m)|this.Aa(a)<<this.l:this.h[a>>>this.j].ca(a&this.i)};h.Ic=function(a){return a&3?this.ca(a+2&this.m)|this.ca(a)<<this.s:this.h[a>>>this.j].ja(a&this.i)};h.Hc=function(a){return a&1?this.Aa(a)|this.Aa(a+1&this.m)<<this.l:this.h[a>>>this.j].ca(a&this.i)};
h.Jc=function(a){return a&3?this.ca(a)|this.ca(a+2&this.m)<<this.s:this.h[a>>>this.j].ja(a&this.i)};h.Ve=function(a){return(a&this.i)==this.i?this.o?this.Hc(a):this.Gc(a):this.h[a>>>this.j].ca(a&this.i)};h.Ye=function(a){return(a&this.i)+3>this.i?this.o?this.Jc(a):this.Ic(a):this.h[a>>>this.j].ja(a&this.i)};h.Kc=function(a,b){a&1?(this.ya(a,b>>this.l),this.ya(a+1&this.m,b&this.H)):this.h[a>>>this.j].ka(a&this.i,b)};
h.Mc=function(a,b){a&3?(this.ka(a,b>>this.s),this.ka(a+2&this.m,b&this.K)):this.h[a>>>this.j].xa(a&this.i,b)};h.Lc=function(a,b){a&1?(this.ya(a,b&this.H),this.ya(a+1&this.m,b>>this.l)):this.h[a>>>this.j].ka(a&this.i,b)};h.Nc=function(a,b){a&3?(this.ka(a,b&this.K),this.ya(a+2&this.m,b>>this.s)):this.h[a>>>this.j].xa(a&this.i,b)};h.kf=function(a,b){(a&this.i)==this.i?this.o?this.Lc(a,b):this.Kc(a,b):this.h[a>>>this.j].ka(a&this.i,b)};
h.nf=function(a,b){(a&this.i)+3>this.i?this.o?this.Nc(a,b):this.Mc(a,b):this.h[a>>>this.j].xa(a&this.i,b)};function Xc(a,b){var c=a.v;a.v+=b;c&&a.v||(a.Aa=a.Sd,a.ya=a.Ma,a.type==Vc?(a.ca=a.Ve,a.ja=a.Ye,a.ka=a.kf,a.xa=a.nf):a.o?(a.ca=a.Hc,a.ja=a.Jc,a.ka=a.Lc,a.xa=a.Nc):(a.ca=a.Gc,a.ja=a.Ic,a.ka=a.Kc,a.xa=a.Mc))}h.Eb=function(a,b){return this.h[a>>>this.j].Eb(b)?(Xc(this,1),!0):!1};h.dc=function(a,b){return this.h[a>>>this.j].dc(b)?(Xc(this,1),!0):!1};
h.Fb=function(a,b){return this.h[a>>>this.j].Fb(b)?(Xc(this,-1),!0):!1};h.fc=function(a,b){return this.h[a>>>this.j].fc(b)?(Xc(this,-1),!0):!1};var Uc=0,Vc=1;w.Bus=Tc;
function K(a,b,c){H.call(this,a,b,c);this.ra=this.J.addr;this.size=this.J.size;this.type=this.J.type||L.NONE;this.H=(a=this.J.bus)?qb(this,a):J(this,a="Bus");if(!this.H)throw Error(this.T("unable to find bus '%s'",a));this.j=this.H.l;this.L=Math.pow(2,this.j)-1;this.m=this.j<<1;this.X=Math.pow(2,this.m)-1;this.S=this.ma=!1;this.h=!1!==this.H.o;this.values=this.da=this.ga=this.K=this.O=null;a=this.$a;b=this.Ma;c=this.h?this.Xe:this.We;var d=this.h?this.mf:this.lf,f=this.h?this.$e:this.Ze,g=this.h?
this.qf:this.pf;this.H.type==Uc&&(b=this.ic,c=this.h?this.Nb:this.Mb,f=this.h?this.Ud:this.Td,d=this.lc,g=this.oc,8==this.j&&!1!==tb(this,"ArrayBuffer")&&(this.ma=!0,c=this.h==ra?this.cf:this.df,f=this.h==ra?this.ef:this.ff));switch(this.type){case L.NONE:this.Aa=this.af;this.ya=this.Hb;this.ca=this.pb;this.ka=this.rf;this.ja=this.bf;this.xa=this.sf;break;case L.Zc:this.Aa=a;this.ya=this.Hb;this.ca=c;this.ka=this.Hb;this.ja=f;this.xa=this.Hb;break;case L.Ua:this.Aa=a,this.ya=b,this.ca=c,this.ka=d,
this.ja=f,this.xa=g}this.V=this.i=0;this.ba=this.v=this.$=this.u=this.Z=this.N=this.o=this.s=null;Zc(this,this.J.values);$c(this)}r(K,H);function Zc(a,b){"string"==typeof b?(wb(a,!1),Ta(b,function(c,d,f,g){if(4==f)if(!g&&d){try{var e=JSON.parse(d);Zc(a,e.values)}catch(k){a.Y("error (%s) parsing resource: %s\n",k.message,c)}wb(a,!0)}else a.Y("error (%d) loading resource: %s\n",g,c)})):a.J.values=b}
function $c(a,b){if(a.type>L.NONE&&(a.ma?(a.K=new ArrayBuffer(a.size),a.O=new DataView(a.K,0,a.size),a.values=new Uint8Array(a.K,0,a.size),a.da=new Uint16Array(a.K,0,a.size>>1),a.ga=new Int32Array(a.K,0,a.size>>2)):a.values=Array(a.size).fill(0),b))for(var c=0;c<b.length;c++)a.values[c]=b[c]}h=K.prototype;
h.Ca=function(){if(this.J.values)a:{var a=this.H,b=this.ra,c=this.size,d=this.J.values,f=0,g=b&a.i;b>>>=a.j;c>d.length&&(c=d.length);for(;0<c&&b<a.h.length;){var e=a.h[b++];if(!e)break a;for(;0<c&&g<e.size;)e.Ma(g++,d[f++]),c--;g=0}}else this.type&L.Ua&&this.values&&this.values.fill(0)};h.af=function(){return this.L};h.pb=function(){return this.L|this.L<<this.j};h.bf=function(a){return this.h?this.pb(a)|this.pb(a+2)<<this.m:this.pb(a+2)|this.pb(a)<<this.m};
h.ac=function(a){return this.values?this.values[a]:0};h.$a=function(a){return this.values[a]};h.Mb=function(a){return this.values[a+1]|this.values[a]<<this.j};h.Td=function(a){return this.Mb(a+2)|this.Mb(a)<<this.m};h.Nb=function(a){return this.values[a]|this.values[a+1]<<this.j};h.Ud=function(a){return this.Nb(a)|this.Nb(a+2)<<this.m};h.cf=function(a){return this.da[a>>>1]};h.ef=function(a){return this.ga[a>>>2]};h.df=function(a){return this.O.getUint16(a,this.h)};
h.ff=function(a){return this.O.getInt32(a,this.h)};h.We=function(a){return this.$a(a+1)|this.$a(a)<<this.j};h.Ze=function(a){return this.ca(a+2)|this.ca(a)<<this.m};h.Xe=function(a){return this.$a(a)|this.$a(a+1)<<this.j};h.$e=function(a){return this.ca(a)|this.ca(a+2)<<this.m};h.Hb=function(){};h.rf=function(){};h.sf=function(){};h.hc=function(a,b){this.values&&(this.values[a]=b)};h.Ma=function(a,b){this.values[a]=b};h.ic=function(a,b){this.values[a]=b;this.S=!0;this.i?this.N=this.Ma:this.ya=this.Ma};
h.ib=function(a,b){this.values[a]=b>>this.j;this.values[a+1]=b&this.L};h.Ob=function(a,b){this.ib(a,b>>this.m);this.ib(a+2,b&this.X)};h.jb=function(a,b){this.values[a]=b&this.L;this.values[a+1]=b>>this.j};h.Pb=function(a,b){this.jb(a,b&this.X);this.jb(a+2,b>>this.m)};h.jc=function(a,b){this.da[a>>>1]=b};h.mc=function(a,b){this.ga[a>>>2]=b};h.kc=function(a,b){this.O.setUint16(a,b,this.h)};h.nc=function(a,b){this.O.setInt32(a,b,this.h)};h.lf=function(a,b){this.Ma(a,b>>this.j);this.Ma(a+1,b&this.L)};
h.pf=function(a,b){this.ka(a,b>>this.m);this.ka(a+2,b&this.X)};h.mf=function(a,b){this.Ma(a,b&this.L);this.Ma(a+1,b>>this.j)};h.qf=function(a,b){this.ka(a,b&this.X);this.ka(a+2,b>>this.m)};h.lc=function(a,b){this.K?this.h==ra?(this.jc(a,b),this.i?this.u=this.jc:this.ka=this.jc):(this.kc(a,b),this.i?this.u=this.kc:this.ka=this.kc):this.h?(this.jb(a,b),this.i?this.u=this.jb:this.ka=this.jb):(this.ib(a,b),this.i?this.u=this.ib:this.ka=this.ib)};
h.oc=function(a,b){this.K?this.h==ra?(this.mc(a,b),this.i?this.v=this.mc:this.xa=this.mc):(this.nc(a,b),this.i?this.v=this.nc:this.xa=this.nc):this.h?(this.Pb(a,b),this.i?this.v=this.Pb:this.xa=this.Pb):(this.Ob(a,b),this.i?this.v=this.Ob:this.xa=this.Ob)};
h.Eb=function(a){if(!this.V){var b=this;this.V++;this.o=a;this.Z=this.Aa;this.$=this.ca;this.ba=this.ja;this.Aa=function(c){var d=b.Z(c);b.o(b.ra,c,d);return d};this.ca=function(c){var d=b.$(c);b.o(b.ra,c,d);b.o(b.ra,c+1,d);return d};this.ja=function(c){var d=b.ba(c);b.o(b.ra,c,d);b.o(b.ra,c+1,d);b.o(b.ra,c+2,d);b.o(b.ra,c+3,d);return d};return!0}return this.o==a?(this.V++,!0):!1};
h.dc=function(a){if(!this.i){var b=this;this.i++;this.s=a;this.N=this.ya;this.u=this.ka;this.v=this.xa;this.ya=function(c,d){b.s(b.ra,c,d);b.N(c,d)};this.ka=function(c,d){b.s(b.ra,c,d);b.s(b.ra,c+1,d);b.u(c,d)};this.xa=function(c,d){b.s(b.ra,c,d);b.s(b.ra,c+1,d);b.s(b.ra,c+2,d);b.s(b.ra,c+3,d);b.v(c,d)};return!0}return this.s==a?(this.i++,!0):!1};h.Fb=function(a){return this.V&&this.o==a?(--this.V||(this.Aa=this.Z,this.ca=this.$,this.ja=this.ba,this.Z=this.$=this.ba=this.o=null),!0):!1};
h.fc=function(a){return this.i&&this.s==a?(--this.i||(this.ya=this.N,this.ka=this.u,this.xa=this.v,this.N=this.u=this.v=this.s=null),!0):!1};h.Ga=function(a){var b=a.shift();if(this.ia==b){this.S=a.shift();a.shift();if(a=a.shift()){var c=this.size;c=void 0===c?0:c;if(a.length!=c){b=0;c=c?Array(c):[];for(var d=0;d<a.length-1;)for(var f=a[d++],g=a[d++];f--;)c[b++]=g;a=c}$c(this,a)}return!0}return!1};
h.Ia=function(a){a.push(this.ia);a.push(this.S);a.push(!1);if(this.values){var b=this.values;for(var c=0,d=0,f=[];c<b.length;){for(var g=b[c],e=c+1;e<b.length&&b[e]===g;)e++;f[d++]=e-c;f[d++]=g;c=e}b=f.length>=b.length?b:f}else b=this.values;a.push(b)};var L={NONE:1,Zc:2,Ua:4,je:14,Jg:12};w.Memory=K;function ad(a,b,c){c.type=L.NONE;K.call(this,a,b,c);Wc(this.H,this.J.addr,this.J.size,L.Ua);xb(this,this.Ca.bind(this))}r(ad,K);w.RAM=ad;
function bd(a,b,c){c.type=L.Zc;K.call(this,a,b,c);Wc(this.H,this.J.addr,this.J.size,this.J.type,this);xb(this,this.Ca.bind(this));this.g=this.pa=void 0;if(w.LED&&this.sa[cd]){var d=this;this.M=Math.pow(2,Math.ceil(Math.log2(this.values.length)/2));this.la=this.values.length/this.M|0;this.l=new Zb(a,b+"LEDs",{"class":"LED",bindings:{container:Pa(this,cd)},type:bc,cols:this.M,rows:this.la,color:D(this,"colorROM","green"),backgroundColor:D(this,"backgroundColorROM","black"),persistent:!0}),kc(this.l);
this.qa=new Ab(a,b+"Input",{"class":"Input",location:[0,0,this.l.da,this.l.V,this.M,this.la],bindings:{surface:Pa(this,cd)}});this.ua=Qa(this)||"";Db(this.qa,function(f,g){if(d.g){var e=d.ua;0<=f&&0<=g&&(f=g*d.M+f,g=d.g,e=g.pa&&dd(g.pa,d.ra+f,1)||"");hb(d,Ra,e)}})}}r(bd,K);
bd.prototype.Ga=function(a){var b=!0,c=a.shift();if(c&&this.l){var d=c.length;this.l.h.length==d?(this.l.h=c,jc(this.l,!0)):(this.Y("inconsistent saved LED state (%d), unable to load\n",d),b=!1)}a.length&&(d=(a=a.shift())&&a.length||-1,this.values.length==d?this.values=a:(this.Y("inconsistent saved ROM state (%d), unable to load\n",d),b=!1));return b};bd.prototype.Fa=function(){void 0===this.g&&(this.g=J(this,"CPU"));void 0===this.pa&&(this.pa=J(this,"Debugger",!1))&&this.pa.Wb&&this.pa.Wb(this.J.symbols)};
bd.prototype.$a=function(a){if(this.l){var b=this.l,c=mc;c=(void 0===c?0:c)&129;var d=4*((a/this.M|0)*b.L+a%this.M);if(d<=b.h.length-4){if(1!==b.h[d]||(b.h[d+3]&129)!==c)b.h[d]=1,b.h[d+3]=b.h[d+3]&-130|c|mc,b.M=!0;b.X=d;b.N=!0;b.K=0}}return this.values[a]};bd.prototype.Ia=function(a){this.l&&(a.push(this.l.h),a.push(this.values))};var cd="array",Ra="cellDesc";w.ROM=bd;
function ed(a,b,c){c["class"]="CPU";H.call(this,a,b,c);this.pa=void 0;this.o=this.Ta=0;this.Sb=this.J.addrReset||0;this.time=J(this,"Time");this.time.H.push(this);this.time.O.push(this);this.ua=this.ba=0}r(ed,H);ed.prototype.abort=function(a){this.o=this.Ta;B(this,a.message);Ec(this.time)};function fd(a,b){a.pa=b;return a.hb}ed.prototype.pd=function(){};ed.prototype.hf=function(a){this.ua=this.ba=a=void 0===a?0:a;try{this.pd(a)}catch(b){this.abort(b)}return this.ua-this.ba};
ed.prototype.jf=function(){this.ua-=this.ba;this.ba=0};
function gd(a,b,c){c["class"]="Debugger";H.call(this,a,b,c);var d=this;this.wa=this.J.defaultRadix||16;this.ga=1;this.V=["(",")"];ya(this,"a",function(g,e,k,l,p){return va(d,p.ha,d.wa,k)});ya(this,"n",function(g,e,k,l,p){return va(d,p,d.wa,k,0>e.indexOf("#")?"":void 0)});this.H=0;this.la=t.NONE;this.L={};this.ma=[];this.qa=[];this.g=J(this,"CPU");this.hb=fd(this.g,this);this.ua=J(this,"Input",!1);if(a=this.g.J.busMemory||this.J.busMemory){this.h=qb(this,a);if(a=this.g.J.busIO||this.J.busIO)this.l=
qb(this,a,!1);this.l||(this.l=this.h)}else this.h=this.l=J(this,"Bus");this.K=this.h.ta;this.Ea=Math.pow(2,this.K)-1|0;this.u=this.ba=0;this.s=[];for(var f in M)this.s[M[f]]=[];this.o=[];this.o[M.Ka]=this.h;this.o[M.mb]=this.h;this.o[M.Na]=this.l;this.o[M.kb]=this.l;this.m=[];this.m[M.Ka]=this.Ie.bind(this);this.m[M.mb]=this.Je.bind(this);this.m[M.Na]=this.Ge.bind(this);this.m[M.kb]=this.He.bind(this);this.j=[];this.M=void 0;this.S=null;this.X=0;this.time=J(this,"Time");this.time.O.push(this);this.Z=
0;this.v=[];this.O="";this.Vb(this,"state","dump machine state",this.Re);this.$=hd();this.za=hd();this.da=!1;this.N=0;this.i=[];La(this,this.Te.bind(this));(f=tb(this,"commands"))&&$a(this,f)}r(gd,H);h=gd.prototype;h.Vb=function(a,b,c,d){this.v.push({Qe:a,name:b,Pe:c,yb:d})};function id(a,b,c){for(var d,f=0;f<a.v.length;f++){var g=a.v[f];if(g.name==b){d=g.yb.call(g.Qe,c);break}}return d}
h.Wb=function(a){if(a&&a.length)for(var b=0;b<a.length-2;b+=3){var c=jd(this,a[b]);if(c){var d=kd[a[b+1]];if(d){c={Xa:c,type:d,name:a[b+2]};d=this.ma;var f=c,g=ld(d,f,this.jd);0>g&&d.splice(-(g+1),0,f);d=this.qa;f=ld(d,c,this.kd);0>f&&d.splice(-(f+1),0,c)}}}};function ld(a,b,c){var d=0,f=a.length,g=0;for(void 0===c&&(c=function(l,p){return l>p?1:l<p?-1:0});d<f;){var e=d+f>>1,k=void 0;k=c(b,a[e]);0<k?d=e+1:(f=e,g=!k)}return g?d:~d}h.jd=function(a,b){return a.name>b.name?1:a.name<b.name?-1:0};
h.kd=function(a,b){return a.Xa.ha>b.Xa.ha?1:a.Xa.ha<b.Xa.ha?-1:0};function md(a,b,c){b=ld(a.qa,{Xa:b,type:0,name:void 0},a.kd);if(0<=b&&(a=a.qa[b],!c||a.type==c))var d=a.name;return d}function nd(a,b,c,d){d=void 0===d?a.h:d;b.ha=b.ha+c&d.m}function hd(a){a=void 0===a?0:a;var b=od.fe;return"number"==typeof a?{ha:a,bc:-1,type:b}:{ha:a.ha,bc:a.bc,type:a.type}}
function jd(a,b,c){if(b){var d=hd();var f=0,g=b.charAt(f);switch(g){case "&":f++;break;case "#":f++;d.type=od.he;break;case "%":f++,g=b.charAt(f),"%"==g?f++:d.type=od.ed}g=b.indexOf(":",f);if(0<=g){var e=pd(a,b.substring(f,g),c);void 0==e?d=null:(d.bc=e,f=g+1)}d&&(b=pd(a,b.substring(f),c),void 0==b?d=null:d.ha=b&a.Ea)}return d}function qd(a,b,c,d){d=void 0===d?a.h:d;a.u++;var f=d.ac(b.ha);c&&nd(a,b,c,d);a.u--;return f}
function rd(a,b,c){if(32>=a.K)return b&c;b=N(a,b,0,!0);c=N(a,c,0,!0);return((b/y|0)&(c/y|0))*y+((b&c)>>>0)}function sd(a,b,c){if(32>=a.K)return b^c;b=N(a,b,0,!0);c=N(a,c,0,!0);return((b/y|0)^(c/y|0))*y+((b^c)>>>0)}
function td(a,b,c,d){for(d=void 0===d?-1:d;d--&&c.length;){var f=c.pop();if(2>b.length)return!1;var g=b.pop();var e=b.pop();switch(f){case "*":e*=g;break;case "/":if(!g)return!1;e=Math.trunc(e/g);break;case "^/":if(!g)return!1;e%=g;break;case "+":e+=g;break;case "-":e-=g;break;case "<<":e<<=g;break;case ">>":e>>=g;break;case ">>>":e>>>=g;break;case "<":e=e<g?1:0;break;case "<=":e=e<=g?1:0;break;case ">":e=e>g?1:0;break;case ">=":e=e>=g?1:0;break;case "==":e=e==g?1:0;break;case "!=":e=e!=g?1:0;break;
case "&":e=rd(a,e,g);break;case "!":case "|":f=e;32>=a.K?e=f|g:(f=N(a,f,0,!0),g=N(a,g,0,!0),e=(f/y|0|g/y|0)*y+((f|g)>>>0));break;case "^!":e=sd(a,e,g);break;case "&&":e=e&&g?1:0;break;case "||":e=e||g?1:0;break;case ",,":e=N(a,e,18,!0)*Math.pow(2,18)+N(a,g,18,!0);break;case "_":case "^_":"^_"==f&&(g=35-(g&255));g&&(e=N(a,e,0,!0),e=0<g?e*Math.pow(2,g):Math.trunc(e/Math.pow(2,-g)));break;default:return!1}b.push(N(a,e))}return!0}
function ud(a,b,c,d,f,g){var e,k=!1,l=0,p=[],n=[],q=a.wa;for(a.wa=f;c<d;){var v=b[c++].trim();var A=c<d?b[c++]:"";if(v){var z=void 0;var x=a;var C=v,u=g;l=void 0===l?0:l;if(void 0!=C){z=ub(x,C.toUpperCase());if(void 0==z){z=void 0;var W=x,R=ld(W.ma,{Xa:null,type:0,name:C},W.jd);0<=R&&(z=W.ma[R].Xa.ha);if(void 0==z)if(z=C,x.L[z]?z=x.L[z].value:(z=z.substr(0,6),z=x.L[z]&&x.L[z].value),void 0==z)z=ua(C,1<C.length||10<x.wa?x.wa:10);else if(C=x.L[C]&&x.L[C].Vg)u?u.push(C):(u=pd(x,C,u),void 0!==u?z+=u:
z=void 0)}void 0!=z&&(z=N(x,vd(x,z,l)))}x=z}else if("{"==A){v=1;for(x=c;c<d;)if(c++,A=c<b.length?b[c++]:"","{"==A)v++;else if("}"==A&&!--v)break;x=ud(a,b,x,c-1,a.wa,g);null!=x&&l&&(x=vd(a,x,l));v=c<d?b[c++].trim():"";A=c<d?b[c++]:""}else{if(" "==A)continue;if("^B"==A){a.wa=2;continue}if("^O"==A){a.wa=8;continue}if("^D"==A){a.wa=10;continue}if(!(l&-1073741824)){if("+"==A)continue;if("-"==A){l=l<<2|1;continue}if("~"==A||"^-"==A){l=l<<2|2;continue}if("^L"==A){l=l<<2|3;continue}}k=!0;break}if(void 0===
x)if(g)g.push(v),x=0;else{k=!0;break}p.push(N(a,x));if(" "==A)if(c<b.length-1&&!b[c])c++,A=b[c++];else{k=!0;break}if(!A)break;x="<"==a.V[0]?wd:xd;if(!x[A]){k=!0;break}n.length&&x[A]<=x[n[n.length-1]]&&td(a,p,n,1);n.push(A);a.wa="^_"==A?10:f;l=0}if(k||!td(a,p,n)||1!=p.length)k=!0;k?g||a.Y("parse error (%s)\n",v||A):e=p.pop();a.wa=q;return e}
function yd(a,b,c,d){for(var f,g=a.K/d|0;0<=(f=b.indexOf(c));){for(var e=0,k=f+1,l=g;k<b.length;){var p=b[k++];if(p==c){l=-1;break}if(!l)break;l--;p=p.charCodeAt(0);6==d&&(p-=32);p&=(1<<d)-1;e=N(a,e*Math.pow(2,d)+p,d*g,!0)}if(0<=l){a.Y("parse error (%c%s%c)\n",c,b,c);return}b=b.substr(0,f)+va(a,e)+b.substr(k)}return b}
function pd(a,b,c){if(b){"{"!=a.V[0]&&(b=b.split(a.V[0]).join("{").split(a.V[1]).join("}"));b=yd(a,b,'"',8);if(!b)return d;b=yd(a,b,"'",6);if(!b)return d;16!=a.wa&&(b=b.replace(/(^|[^A-Z0-9$%.])([0-9]+)B/,"$1$2^_").replace(/\s+/g," "));b=b.split(/({|}|\|\||&&|\||\^!|\^B|\^O|\^D|\^L|\^-|~|\^_|_|&|!=|!|==|>=|>>>|>>|>|<=|<<|<|-|\+|\^\/|\/|\*|,,| )/);var d=ud(a,b,0,b.length,a.wa,c)}return d}
function vd(a,b,c){for(;c;){var d;switch(c&3){case 1:b=-N(a,b);break;case 2:b=sd(a,b,-1);break;case 3:for(d=35;0<=d&&!rd(a,b,Math.pow(2,d));)d--;b=35-d}c>>>=2}return b}function N(a,b,c,d){var f=b;c=c||a.K;if(d)if(32==c)f=b>>>0;else if(32>c)f=b&(1<<c)-1;else{if(a=Math.pow(2,c),0>b||b>=a)f=b%a,0>f&&(f+=a)}else 32>=c?f=b<<32-c>>32-c:(a=Math.pow(2,c-1),b>=a?(f=b%a,(b/a|0)&1&&(f-=a)):b<-a&&(f=b%a,((-b-1)/a|0)&1?f&&(f+=a):f||(f-=a)));b!=f&&(b=f);return b}
h.Xb=function(a){function b(k){for(var l=0;l<k.length;l++)if(void 0!=k[l])return!1;return!0}if(-1>a)return zd(this,this.Xb);var c="";if(0<=a){var d=this.j[a];if(void 0!=d){c=d>>8;d&=255;var f=this.o[c];if(f){var g=this.s[c],e=g[d];(c&1?f.fc(e.ha,this.m[c]):f.Fb(e.ha,this.m[c]))?(g[d]=void 0,this.j[a]=void 0,b(g)&&(g.length=0,b(this.j)&&(this.j.length=0)),c=this.T("%2d: %s %*a cleared\n",a,Ad[c],f.ta,e),--this.ba||this.da||(c+=Bd(this,!1))):c=this.T("invalid break address: %*a\n",f.ta,e)}else c="invalid bus"}else c=
this.T("invalid break index: %d\n",a)}else c="missing break index\n";return c};function Cd(a,b){if(a.S&&(void 0==b||a.S.ha==b)){var c=void 0===c?M.Ka:c;b=-1;var d=Dd(a.S,a.s[c]);if(0<=d)for(var f=0;f<a.j.length;f++){var g=a.j[f];if(void 0!=g&&c==g>>8&&d==(g&255)){b=f;break}}c=b;0<=c&&a.Xb(c);a.S=null}}
h.Zb=function(a,b){b=void 0===b?!1:b;if(-1>a)return zd(this,this.Zb,b);if(0<=a){var c=this.j[a];if(void 0!=c){var d=c>>8;c=this.s[d][c&255];if(void 0!=c){var f=b?"enabled":"disabled",g=this.o[d];!c.disabled==!b?(c.disabled=!b,a=this.T("%2d: %s %*a %s\n",a,Ad[d],g.ta,c,f)):a=this.T("%2d: %s %*a already %s\n",a,Ad[d],g.ta,c,f)}else a=this.T("no break address at index: %d\n",a)}else a=this.T("invalid break index: %d\n",a)}else a="missing break index\n";return a};
function zd(a,b,c){for(var d="",f=0;f<a.j.length;f++)void 0!=a.j[f]&&(d+=b.call(a,f,c));d||(d="no break addresses found");return d}function Ed(a,b,c){c=void 0===c?M.Ka:c;a=a.s[c];for(c=0;c<a.length;c++){var d=a[c];if(d.ha==b)return d}}function Dd(a,b){for(var c=0;c<b.length;c++)if(b[c].ha==a.ha)return c;return-1}
function Fd(a,b){b=void 0===b?!1:b;for(var c="",d=0;d<a.j.length;d++){var f=a.j[d];if(void 0!=f){var g=f>>8;f=a.s[g][f&255];g=a.T("%s %*a",Ad[g],a.o[g].ta,f);b?(c&&(c+=";"),c+=g,f.disabled&&(c+=";bd "+d)):c+=a.T("%2d: %s %s\n",d,g,f.disabled?"disabled":"enabled")}}c||b||(c="no break addresses found\n");return c}
function Gd(a,b,c){c=void 0===c?M.Ka:c;if(b){var d=a.o[c];if(d){var f=a.s[c];var g=Dd(b,f);if(0<=g)g=-(g+1);else{for(g=0;g<f.length&&void 0!=f[g];g++);f[g]=b}f=g;if(0<=f)if(g=c&1?d.dc(b.ha,a.m[c]):d.Eb(b.ha,a.m[c])){for(g=0;g<a.j.length&&void 0!=a.j[g];g++);a.j[g]=c<<8|f;b=a.T("%2d: %s %*a set\n",g,Ad[c],d.ta,b);a.ba++||a.i.length||(b+=Bd(a,!0))}else b=a.T("invalid break address: %*a\n",d.ta,b),a.s[c][f]=void 0;else b=a.T("%s %*a already set\n",Ad[c],d.ta,b)}else b="invalid bus"}else b="missing break address\n";
return b}function Hd(a,b){0<=b&&(a.H=b);var c="instruction break count: "+(0<a.H?a.H:"disabled")+"\n";0<b&&(a.i.length||(c+=Bd(a,!0)),a.da=!0);return c}function Id(a,b){var c;if(b){var d=bb(b);void 0!=d?a.la=d?t.qc:t.NONE:c=a.T("unrecognized message option: %s\n",b)}c||(c=a.T("break on message: %b\n",!!a.la));return c}h.Ge=function(a,b){this.u||(void 0==a?O(this,"break on unknown input %#0x: %#0x",b):(a=Ed(this,a+b,M.Na))&&!a.disabled&&O(this,"break on input %*a: %#0x",this.l.ta))};
h.He=function(a,b){this.u||(void 0==a?O(this,"break on unknown output %#0x: %#0x",b):(a=Ed(this,a+b,M.kb))&&!a.disabled&&O(this,"break on output %*a: %#0x",this.l.ta))};h.Ie=function(a,b){this.u||(void 0==a?O(this,"break on unknown read %#0x: %#0x",b):(a+=b,this.i.length&&a==this.g.Ta&&(this.X++,0<this.H&&(--this.H||O(this,"break on instruction count")),this.i[this.N++]=a,this.N==this.i.length&&(this.N=0)),(b=Ed(this,a,M.Ka))&&!b.disabled&&(O(this,"break on read %*a: %#0x",this.h.ta),Cd(this,a))))};
h.Je=function(a,b){this.u||(void 0==a?O(this,"break on unknown write %#0x: %#0x",b):(a=Ed(this,a+b,M.mb))&&!a.disabled&&O(this,"break on write %*a: %#0x",this.h.ta))};function O(a,b,c){b=a.T.apply(a,[b].concat(ba(c)));B(a,b);Ec(a.time)}function Jd(a,b,c){c=void 0===c?a.h:c;return va(a,b.ha,a.wa,c.ta,"")}
function Kd(a,b,c){c=void 0===c?10:c;var d="";if(a.i.length){var f,g=[];c>a.i.length&&(c=a.i.length);0>b&&(b=c);var e=a.N-b;for(0>e&&(e+=a.i.length);0<=e&&e<a.i.length&&0<c;){var k=a.i[e++];if(void 0==k)break;e==a.i.length&&(e=0);f?f.ha=k:f=hd(k);for(k=0;k<a.ga;k++)g[k]=qd(a,f,1);nd(a,f,-g.length);d+=a.ec(f,g,a.T("[%6d]",b--));c--}}return d||"no history"}
function dd(a,b,c){var d=[],f="";for(b="number"==typeof b?hd(b):b;c--;){for(nd(a,b,d.length);d.length<a.ga;)d.push(qd(a,b,1));nd(a,b,-d.length);f+=a.ec(b,d)}return f}
function Ld(a,b,c,d,f,g){var e="";g=g?a.l:a.h;c||(c=g.l);var k=c>>3;d||(d=128);var l=0,p=d+15>>4||1,n=4==k?16:a.wa;"y"==f&&(n=k,p=d,l=8*k);b||(b=a.za);for(;p--&&0<d;){var q=f=0,v,A="",z="",x=Jd(a,b,g);for(v=n;0<v&&0<d;v--){var C=qd(a,b,1,g);f|=C<<(q++<<3);q==k&&(A+=va(a,f,0,c,""),A+=1==k?9==v?"-":" ":" ",l&&(z+=va(a,f,2,c,"")),f=q=0);l||(z+=32<=C&&127>C?String.fromCharCode(C):".");d--}e&&(e+="\n");e+=x+"  "+A+" "+z}a.za=b;return e}
h.Re=function(){var a=[];sb(this,function(b){b.cb&&b.cb(a);return!0});return JSON.stringify(a,null,2)};function Md(a,b,c,d){var f=0,g="";d=d?a.l:a.h;for(var e=0;void 0!=b&&e<c.length;e++){var k=qd(a,b,0,d);if(void 0==k)break;var l=a,p=b,n=c[e],q=d;q=void 0===q?l.h:q;l.u++;q.hc(p.ha,n);l.u--;g+=a.T("%*a: %#*n changed to %#*n\n",a.h.ta,b,a.h.l,k,a.h.l,c[e]);nd(a,b,1,d);f++}f||(g+=a.T("%d locations updated\n",f));a.time.update();return g}
function Bd(a,b){var c="";void 0!=b&&b==!a.i.length&&Yc(a.h,function(d){b?a.h.Eb(d.ra,a.m[M.Ka]):a.h.Fb(d.ra,a.m[M.Ka])})&&(b?(a.N=0,a.i=Array(Nd)):a.i=[]);return c+=a.T("instruction history %s\n",a.i.length?"enabled":"disabled")}h.Ga=function(a){var b=a.shift();return this.ia==b?($a(this,a.shift()),this.aa.Da=a.shift(),!0):!1};h.qd=function(a){wa(this.la,a)?O(this,"break on message"):this.time.S=!0};
h.Te=function(a){var b=a[1],c=a[2],d=[],f=[],g=!1,e="";this.M=void 0;if("*"==c)var k=-2;else{k=ua(c);void 0==k&&(k=-1);var l=jd(this,c,f);if(null===l)return}var p=0;a[3]&&(p=ua(a[3].substr("l"==a[3][0]?1:0))||8);for(var n=3;n<a.length;n++)d.push(ua(a[n],16));if("d"==b){n=id(this,c,d);if(void 0!=n)return n;b=this.O||b}if("s"!=b[0]&&f.length)return"unrecognized symbol(s): "+f;switch(b[0]){case "b":"c"==b[1]?e=this.Xb(k):"d"==b[1]?e=this.Zb(k):"e"==b[1]?e=this.Zb(k,!0):"i"==b[1]?e=Gd(this,l,M.Na):"l"==
b[1]?e=Fd(this):"m"==b[1]?e=Id(this,c):"n"==b[1]?e=Hd(this,k):"o"==b[1]?e=Gd(this,l,M.kb):"r"==b[1]?e=Gd(this,l,M.Ka):"w"==b[1]?e=Gd(this,l,M.mb):"?"==b[1]?(e="break commands:\n",Od.forEach(function(q){e+=q+"\n"})):b[1]&&(e=void 0);break;case "d":this.O=b;if("b"!=b[1]&&b[1])if("w"==b[1])c=16;else if("d"==b[1])c=32;else if("i"==b[1]){if(!this.l){e="invalid bus";break}c=this.l.l;p=p||1;g=!0}else{if("h"==b[1])this.O="",e=Kd(this,k,p);else if("?"==b[1]){if(this.O="",e="dump commands:\n",Pd.forEach(function(q){e+=
q+"\n"}),this.v.length)for(e+="dump extensions:\n",b=0;b<this.v.length;b++)l=this.v[b],e+=this.T("d   %-12s%s\n",l.name,l.Pe)}else this.O="",e=void 0;break}else c=8;e=Ld(this,l,c,p,b[2],g);break;case "e":if("o"==b[1]){if(!this.l){e="invalid bus";break}g=!0}else if(b[1]){e=void 0;break}e=Md(this,l,d,g);break;case "g":if(this.time.start()){if(void 0!=l){Cd(this);e=Gd(this,l);if(2!=e.indexOf(":"))break;this.S=l;e=""}break}e="already started\n";break;case "h":Ec(this.time)||(e="already stopped\n");break;
case "p":a.shift();a.shift();b=a.join(" ");e+=this.T("%s = %s\n",b,va(this,pd(this,b)));break;case "r":if(b=b.substr(1).toUpperCase()){if(void 0==ub(this.g,b)){e+=this.T("unrecognized register: %s\n",b);break}void 0!=l&&zb(this.g,b,l.ha)}this.$.ha=this.g.o;e+=this.g.toString();break;case "s":l=bb(c);if("h"==b[1]){if(this.ba||0<this.H)l=void 0;e=Bd(this,l);void 0!=l&&(this.da=l)}else"p"==b[1]?0<k?(Bc(this.time,k),e="target speed:  "+Hc(this.time.s)):e="current speed: "+Pc(this.time):"s"==b[1]&&this.Ba?
(k=this.Ba.indexOf(c),0<=k&&(this.style=this.Ba[k]),e="style: "+this.style):"?"==b[1]?(e="set commands:\n",Qd.forEach(function(q){e+=q+"\n"})):e=void 0;break;case "t":p=ua(c,10)||1;this.M=!0;if(b[1]){if("r"!=b[1]){e=void 0;break}this.M=!1}Jc(this.time,p);break;case "u":if(b[1]){e=void 0;break}p||(p=8);l||(l=this.$);e+=dd(this,l,p);this.$=l;break;case "?":e="debugger commands:\n";Rd.forEach(function(q){e+=q+"\n"});break;default:e=void 0}void 0==e&&a[0]&&(e="unrecognized command '"+a[0]+"' (try '?')\n");
return e};h.Db=function(a){return a&&this.Ga(a[0])?(a.shift(),!0):!1};h.cb=function(a){var b=[];this.Ia(b);a.push(b);this.Z=0};h.$b=function(a){a&&(this.time.h?this.Z&&this.ua&&Xb(this.ua):this.M?this.Qa(dd(this,this.g.o,1)):(this.X&&(B(this.g,this.X+" instructions executed"),this.X=0),this.g.Qa(this.g.toString()),void 0==this.M&&this.Z&&(a=this.Sa(Ia.tb,!0))&&a.focus()),this.Z++)};h.Ia=function(a){a.push(this.ia);a.push(Fd(this,!0));a.push(this.aa.Da)};
h.ec=function(a,b,c){var d=this.T,f=Jd(this,a);b=b.shift();nd(this,a,1);return d.call(this,"%s %02x       unsupported       ; %s\n",f,b,c||"")};
var Rd="b?\t\tbreak commands;d?\t\tdump commands;e[o] [addr] ...\tedit memory/ports;g    [addr]\trun (to addr);h\t\thalt;p    [expr]\tparse expression;r?   [value]\tdisplay/set registers;s?\t\tset commands;t[r] [n]\tstep (n instructions);u    [addr] [n]\tunassemble (at addr)".split(";"),Od="bc [n|*]\tclear break address;bd [n|*]\tdisable break address;be [n|*]\tenable break address;bl [n]\t\tlist break addresses;bi [addr]\tbreak on input;bo [addr]\tbreak on output;br [addr]\tbreak on read;bw [addr]\tbreak on write;bm [on|off]\tbreak on message;bn [count]\tbreak on instruction count".split(";"),Pd=
"db  [addr]\tdump bytes (8 bits);dw  [addr]\tdump words (16 bits);dd  [addr]\tdump dwords (32 bits);di  [addr]\tdump input ports;d*y [addr]\tdump values in binary;dh  [n] [l]\tdump instruction history buffer;ds\t\tdump machine state".split(";"),Qd=["sh [on|off]\tset instruction history","sp [n]\t\tset speed multiplier","ss\t\tset debugger style"],od={ed:1,fe:0,he:2,Hg:0},M={Ka:0,mb:1,Na:2,kb:3},Sd={},Ad=(Sd[M.Ka]="br",Sd[M.mb]="bw",Sd[M.Na]="bi",Sd[M.kb]="bo",Sd),Td={ee:"PC"},Ud={BYTE:1,de:2,ie:4,
Rc:5,wc:6,ze:7},kd={"=":Ud.ze,1:Ud.BYTE,2:Ud.de,4:Ud.ie,"@":Ud.Rc,";":Ud.wc},Nd=1E5,xd={"||":5,"&&":6,"!":7,"|":7,"^!":8,"&":9,"!=":10,"==":10,">=":11,">":11,"<=":11,"<":11,">>>":12,">>":12,"<<":12,"-":13,"+":13,"^/":14,"/":14,"*":14,_:19,"^_":19,"{":20,"}":20},wd={",,":1,"||":5,"&&":6,"!=":10,"==":10,">=":11,">":11,"<=":11,"<":11,">>>":12,">>":12,"<<":12,"-":13,"+":13,"^/":14,"/":14,"*":14,"!":15,"|":15,"^!":15,"&":15,_:19,"^_":19,"{":20,"}":20};
function Vd(a,b,c){ed.call(this,a,b,c);Wd(this);this.K=qb(this,this.J.busMemory);this.ab=J(this,"Input",!1)}r(Vd,ed);h=Vd.prototype;
h.pd=function(a){var b=this.H;for(this.ba=a;0<this.ba;){this.Ta=this.o;var c=P(this);var d=0;a=c&7;var f=c>>9&7;a:switch(c>>12&15){case 0:d=Xd;switch(c>>8&15){case 0:var g=b[(c>>6&3)+Yd];this.i=g.I(0);if(60!=(c&63)){var e=b[this.L[c&255]];this.h=e.I(a);Q(e,this.h|this.i);S(this,8+e.oa-e.va)}else 0==(c&192)?(Zd(this,T(this)|this.i),S(this,20)):64==(c&192)&&(0!=(this.flags&$d)&&ae(this,T(this)|this.i),S(this,20));break a;case 2:g=b[(c>>6&3)+Yd];this.i=g.I(0);60!=(c&63)?(e=b[this.L[c&255]],this.h=e.I(a),
Q(e,this.h&this.i),S(this,8+e.oa-e.va-e.Yb)):0==(c&192)?(Zd(this,T(this)&this.i),S(this,20)):64==(c&192)&&(0!=(this.flags&$d)&&ae(this,T(this)&this.i),S(this,20));break a;case 4:g=b[(c>>6&3)+Yd];this.i=g.I(0);e=b[this.L[c&255]];this.h=e.I(a);be(e,this.h-this.i);S(this,8+e.oa-e.va);break a;case 6:g=b[(c>>6&3)+Yd];this.i=g.I(0);e=b[this.L[c&255]];this.h=e.I(a);ce(e,this.h+this.i);S(this,8+e.oa-e.va);break a;case 8:d=de;f=0;break;case 10:g=b[(c>>6&3)+Yd];this.i=g.I(0);60!=(c&63)?(e=b[this.L[c&255]],
this.h=e.I(a),Q(e,this.h^this.i),S(this,8+e.oa-e.va)):0==(c&192)?(Zd(this,T(this)^this.i),S(this,20)):64==(c&192)&&(0!=(this.flags&$d)&&ae(this,T(this)^this.i),S(this,20));break a;case 12:g=b[(c>>6&3)+Yd];this.i=g.I(0);e=b[this.L[c&255]];this.h=e.I(a);ee(e,this.h-this.i);S(this,4+e.Yb);break a;case 14:break a;case 1:f=0;break;case 3:f=1;break;case 5:f=2;break;case 7:f=3;break;case 9:f=4;break;case 11:f=5;break;case 13:f=6;break;case 15:f=7}if(8==(c&56))S(this,16+2*this.X.oa);else switch(g=b[d],this.i=
g.I(f),0==(c&56)?(this.i=1<<(this.i&31),e=this.X):(this.i=1<<(this.i&7),e=0==(c&192)?b[this.Ea[c&63]]:b[this.L[c&63]]),this.h=e.I(a),c>>6&3){case 0:e.R(this.h&this.i);S(this,4+(d==Xd?0:4)+e.Oa);break;case 1:e.setData(this.h^this.i);e.R(this.h&this.i);S(this,8+(d==Xd?0:4));break;case 2:e.setData(this.h&~this.i);e.R(this.h&this.i);S(this,8+(d==Xd?0:4)+e.Oa);break;case 3:e.setData(this.h|this.i),e.R(this.h&this.i),S(this,8+(d==Xd?0:4))}break a;case 2:d+=64;case 3:d+=64;case 1:g=b[this.Z[d+(c&63)]];this.i=
g.I(a);64!=(c&448)?(e=b[this.Va[d+(c>>6&63)]],e.eb(f,this.i)):this.j[f]=this.i;S(this,4);break a;case 4:switch(c>>8&15){case 0:192!=(c&192)?(this.h=0,e=b[this.L[c&255]],this.i=e.I(a)-fe(this),this.ma=this.l,be(e,-this.i),0==this.l&&(this.l=this.ma),S(this,8+e.oa-e.va-e.Ya)):(e=b[this.L[(c&63)+64]],e.cc(a,T(this)),S(this,8-e.na));break a;case 2:192!=(c&192)?(e=b[this.L[c&255]],e.eb(a,0),S(this,8+e.oa-e.va-e.Ya)):(e=b[this.L[(c&63)+64]],e.cc(a,T(this)&ge),S(this,8-e.na));break a;case 4:192!=(c&192)?
(this.h=0,e=b[this.L[c&255]],this.i=e.I(a),be(e,-this.i),S(this,8+e.oa-e.va-e.Ya)):(g=b[this.V[(c&63)+64]],Zd(this,g.I(a)),S(this,12));break a;case 6:192!=(c&192)?(e=b[this.L[c&255]],this.h=e.I(a),Q(e,~this.h),S(this,8+e.oa-e.va-e.Ya)):(g=b[this.V[(c&63)+64]],ae(this,g.I(a)),S(this,12));break a;case 8:switch(c>>6&3){case 0:S(this,8-e.na);break a;case 1:0==(c&56)?(e=this.X,this.h=e.I(a),Q(e,this.h>>>16|(this.h&65535)<<16)):(g=b[this.qa[(c&63)+128]],this.i=g.U(a),he(this,this.i));S(this,4);break a;
case 2:if(0==(c&56)){e=b[ie];this.h=e.I(a);Q(e,this.h<<24>>24);S(this,4);break a}case 3:if(0==(c&56)){e=this.X;this.h=e.I(a);Q(e,this.h<<16>>16);S(this,4);break a}}d=P(this);e=b[this.Ra[c-64&255]];f=0;var k=this.j[a];e.U(a);var l=1;if(32==(c&56)){for(c=7;0<=c;c--,l<<=1)0!=(d&l)&&(0!=f++&&(k=this.j[a],e.ea(a)),c!=a&&(k=this.j[c]),e.setData(k));for(c=7;0<=c;c--,l<<=1)0!=(d&l)&&(0!=f++&&e.ea(a),e.setData(this.m[c]));0==f&&(this.j[a]=k)}else{for(c=0;7>=c;c++,l<<=1)0!=(d&l)&&(0!=f++&&e.ea(a),e.setData(this.m[c]));
for(c=0;7>=c;c++,l<<=1)0!=(d&l)&&(0!=f++&&e.ea(a),e.setData(this.j[c]))}S(this,(4+e.oa)*f);break a;case 10:192!=(c&192)?(e=b[this.Z[c&255]],je(e,e.I(a)),S(this,4)):60!=(c&63)&&(e=b[this.L[c&63]],this.h=e.I(a),je(e,this.i),e.setData(this.i|128),S(this,14-5*e.na));break a;case 12:var p=P(this);d=c&56;g=b[this.Ja[c-64&255]];f=0;k=this.j[a];g.U(a);l=1;for(c=0;7>=c;c++,l<<=1)0!=(p&l)&&(0!=f++&&g.ea(a),this.m[c]=g.getData());for(c=0;7>=c;c++,l<<=1)if(0!=(p&l)){0!=f++&&g.ea(a);var n=g.getData();if(24!=d||
c!=a)this.j[c]=n}0==f&&(this.j[a]=k);S(this,4+(4+e.oa)*f);break a;case 14:switch(c>>4&15){case 4:if(a=this.pa)a=!1;if(a){this.o=this.Ta;this.M|=ke;return}a=(c&15)+32;c=this.K.ja(le+4*a);0==(this.flags&$d)&&(this.za=this.j[7],this.j[7]=this.bb);he(this,this.o);this.j[7]-=2;U(this,this.j[7],T(this));this.flags|=$d;this.flags&=~me;this.o=c;if(a==ne||a==oe)U(this,this.j[7]-=2,0),he(this,this.Rb),U(this,this.j[7]-=2,0);S(this,34);break a;case 5:0==(c&8)?(he(this,this.j[a]),this.j[a]=this.j[7],this.j[7]+=
P(this),S(this,16)):(this.j[7]=this.j[a],this.j[a]=pe(this),S(this,12));break a;case 6:if(0==(this.flags&$d))break a;0==(c&8)?this.za=this.j[a]:this.j[a]=this.za;S(this,4);break a;case 7:switch(c&15){case 0:S(this,132);break a;case 1:S(this,4);break a;case 2:if(0==(this.flags&$d))break a;n=P(this)&65535;n<(qe&65535)?ae(this,n):(this.j[7]=this.o,this.o=pe(this),n==(qe&65535)?this.M|=re:n==(se&65535)&&(this.M|=te));this.M|=ue;S(this,4);break a;case 3:0!=(this.flags&$d)&&(ae(this,this.K.ca(this.j[7])),
this.j[7]+=2,this.o=pe(this),0==(this.flags&$d)&&(this.bb=this.j[7],this.j[7]=this.za));S(this,20);break a;case 5:this.o=pe(this);S(this,16);break a;case 6:if(0!=V(this)){S(this,34);break a}S(this,4);break a;case 7:Zd(this,b[ve].I(7));this.o=pe(this);S(this,20);break a}case 8:case 9:case 10:case 11:g=b[this.qa[(c&63)+128]];this.i=g.U(a);he(this,this.o);this.o=this.i;S(this,6);break a;case 12:case 13:case 14:case 15:g=b[this.qa[(c&63)+128]];this.o=g.U(a);break a}break a;case 1:f=0;break;case 3:f=1;
break;case 5:f=2;break;case 7:f=3;break;case 9:if(192==(c&248)){e=this.X;this.h=e.I(a);Q(e,this.h<<24>>24);S(this,4);break a}f=4;break;case 11:f=5;break;case 13:f=6;break;case 15:f=7}128==(c&192)?(g=b[this.V[(c&63)+64]],this.i=g.I(a),this.h=this.m[f]<<16>>16,0>this.h?(this.O=-1,S(this,40)):this.h>this.i?(this.O=0,S(this,40)):S(this,10)):(g=b[this.qa[(c&63)+128]],this.j[f]=g.U(a));break a;case 5:if(192!=(c&192))this.i=we[f],p=c&248,72==p||136==p?(this.j[a]=0==(c&256)?this.j[a]+this.i:this.j[a]-this.i,
S(this,8)):(e=b[this.Ba[c&255]],this.h=e.I(a),0==(c&256)?(ce(e,this.h+this.i),S(this,8+e.oa-e.va)):(be(e,this.h-this.i),S(this,8+e.oa-e.va+e.od)));else if(8!=(c&56)){e=b[this.L[c&63]];e.U(a);n=0;switch(c>>8&15){case 0:n=-1;break;case 1:n=0;break;case 2:n=xe(this);break;case 3:n=~xe(this);break;case 4:n=~ye(this);break;case 5:n=ye(this);break;case 6:n=~ze(this);break;case 7:n=ze(this);break;case 8:n=~V(this);break;case 9:n=V(this);break;case 10:n=~X(this);break;case 11:n=X(this);break;case 12:n=Ae(this);
break;case 13:n=Be(this);break;case 14:n=Ce(this);break;case 15:n=De(this)}e.setData(n);S(this,8-e.na-(0==n?e.na:0))}else{d=-1;switch(c>>8&15){case 1:d=0;break;case 2:d=xe(this);break;case 3:d=xe(this)+1;break;case 4:d=ye(this)+1;break;case 5:d=ye(this);break;case 6:d=ze(this)+1;break;case 7:d=ze(this);break;case 8:d=V(this)+1;break;case 9:d=V(this);break;case 10:d=X(this)+1;break;case 11:d=X(this);break;case 12:d=Ae(this);break;case 13:d=Be(this);break;case 14:d=Ce(this);break;case 15:d=De(this)}this.i=
P(this)-2;0==d?(this.h=(this.m[a]<<16>>16)-1,this.m[a]=this.m[a]&-65536|this.h&65535,-1!=this.h?(this.o+=this.i,S(this,10)):S(this,14)):S(this,12)}break;case 6:a=-1;this.i=c<<24>>24;n=0;0==this.i&&(this.i=P(this)-2,n=4);switch(c>>8&15){case 1:he(this,this.o);this.o+=this.i;S(this,18);break a;case 2:a=xe(this);break;case 3:a=xe(this)+1;break;case 4:a=ye(this)+1;break;case 5:a=ye(this);break;case 6:a=ze(this)+1;break;case 7:a=ze(this);break;case 8:a=V(this)+1;break;case 9:a=V(this);break;case 10:a=
X(this)+1;break;case 11:a=X(this);break;case 12:a=Ae(this);break;case 13:a=Be(this);break;case 14:a=Ce(this);break;case 15:a=De(this)}0!=a?(this.o+=this.i,S(this,10)):S(this,8+n);break a;case 7:this.X.eb(f,c<<24>>24);S(this,4);break a;case 8:if(256==(c&496)){0==(c&8)&&S(this,6);break a}if(192==(c&448)){g=b[this.V[(c&63)+64]];this.i=g.I(a)&65535;0==this.i?S(this,38):(e=this.X,this.h=e.I(f),c=this.h>>>0,a=c/this.i|0,c=c%this.i|0,0!=(a&4294901760)?Ee(this,-1):(e.setData(a&65535|c<<16),je(e,a)),S(this,
140));break a}if(448==(c&448)){g=b[this.V[(c&63)+64]];this.i=g.I(a);0==this.i?S(this,38):(e=this.X,this.h=e.I(f),a=this.h/this.i|0,c=this.h%this.i|0,0!=(a&4294901760)&&4294901760!=(a&4294901760)?Ee(this,-1):(e.setData(a&65535|c<<16),je(e,a)),S(this,158));break a}0==(c&256)?(g=b[this.V[c&255]],this.i=g.I(a),e=b[(c>>6&3)+Fe],this.h=e.I(f),Q(e,this.h|this.i),S(this,4+g.Oa+g.na)):(g=b[(c>>6&3)+Fe],this.i=g.I(f),e=b[this.ga[c&255]],this.h=e.I(a),Q(e,this.h|this.i),S(this,8+e.oa));break a;case 9:if(192==
(c&192)){g=b[this.Z[(c>>2&64)+64|c&63]];this.i=g.I(a);this.j[f]-=this.i;S(this,8-g.Oa+g.na);break a}if(0==(c&256)){g=b[this.Z[c&255]];this.i=g.I(a);e=b[(c>>6&3)+Fe];this.h=e.I(f);be(e,this.h-this.i);S(this,4+g.Oa+g.na);break a}0!=(c&48)?(g=b[(c>>6&3)+Fe],this.i=g.I(f),e=b[this.ga[c&255]],this.h=e.I(a),be(e,this.h-this.i),S(this,8+e.oa)):(g=b[this.$[c>>5&6|c>>3&1]],this.i=g.I(a)-fe(this),e=g,this.h=e.I(f),this.ma=this.l,be(e,this.h-this.i),0==this.l&&(this.l=this.ma),0==(c&8)&&S(this,4+e.oa));break a;
case 11:if(192==(c&192)){g=b[this.Z[(c>>2&64)+64|c&63]];this.i=g.I(a);e=b[Ge];this.h=e.I(f);ee(e,this.h-this.i);S(this,6);break a}if(0==(c&256)){g=b[this.Z[c&255]];this.i=g.I(a);e=b[(c>>6&3)+Fe];this.h=e.I(f);ee(e,this.h-this.i);S(this,4+g.Oa);break a}8!=(c&56)?(g=b[(c>>6&3)+Fe],this.i=g.I(f),e=b[this.L[c&255]],this.h=e.I(a),Q(e,this.h^this.i),S(this,8+e.oa-e.va)):(g=b[(c>>6&3)+He],this.i=g.I(a),e=g,this.h=e.I(f),ee(e,this.h-this.i));break a;case 12:n=c>>6&7;switch(n){case 0:case 1:case 2:g=b[this.V[c&
255]];this.i=g.I(a);e=b[(c>>6&3)+Fe];this.h=e.I(f);Q(e,this.h&this.i);S(this,4+g.Oa+g.na);break a;case 3:g=b[this.V[(c&63)+64]];this.i=g.I(a)&65535;e=this.X;this.h=e.I(f)&65535;Q(e,this.h*this.i);S(this,70);break a;case 4:case 5:case 6:if(0!=(c&48)){g=b[(c>>6&3)+Fe];this.i=g.I(f);e=b[this.ga[c&255]];this.h=e.I(a);Q(e,this.h&this.i);S(this,8+e.oa);break a}switch(n){case 4:g=b[this.$[c>>3&1]];this.i=g.I(a);e=g;this.h=e.I(f);a=(this.i&15)+(this.h&15)-fe(this);a+=9<a?6:0;a+=(this.i&240)+(this.h&240);
144>=a?(e.setData(a),Ie(this,0)):(a+=96,e.setData(a),Ie(this,-1));0!=(a&255)&&(this.l=a<<24>>24);this.v=this.i<<24>>24;this.s=this.h<<24>>24;this.O=this.u=a<<24>>24;0==(c&8)&&S(this,6);break a;case 5:0==(c&8)?(n=this.m[f],this.m[f]=this.m[a],this.m[a]=n):(n=this.j[f],this.j[f]=this.j[a],this.j[a]=n);S(this,6);break a;case 6:0!=(c&8)&&(n=this.m[f],this.m[f]=this.j[a],this.j[a]=n,S(this,6))}break;case 7:g=b[this.V[(c&63)+64]],this.i=g.I(a),e=this.X,this.h=e.I(f)<<16>>16,Q(e,this.h*this.i),S(this,70)}break;
case 13:if(192==(c&192)){g=b[this.Z[(c>>2&64)+64|c&63]];this.i=g.I(a);this.j[f]+=this.i;S(this,8-g.Oa+g.na);break a}if(0==(c&256)){g=b[this.Z[c&255]];this.i=g.I(a);e=b[(c>>6&3)+Fe];this.h=e.I(f);ce(e,this.h+this.i);S(this,4+g.Oa+g.na);break a}0!=(c&48)?(g=b[(c>>6&3)+Fe],this.i=g.I(f),e=b[this.ga[c&255]],this.h=e.I(a),ce(e,this.h+this.i),S(this,8+e.oa)):(g=b[this.$[c>>5&6|c>>3&1]],this.i=g.I(a)-fe(this),e=g,this.h=e.I(f),this.ma=this.l,ce(e,this.i+this.h),0==this.l&&(this.l=this.ma),0==(c&8)&&S(this,
4+e.oa));break a;case 14:192!=(c&192)?(d=0==(c&32)?we[f]:this.m[f]&63,n=c>>2&6|c>>8&1,e=b[Je+(c>>6&3)]):(d=1,n=c>>8,e=b[this.ga[(c&63)+64]]);this.h=e.I(a);S(this,8+e.Ya+(e.na-1)*d);switch(n&7){case 0:d>=e.width&&(this.h>>=1,d=e.width-1);Q(e,this.h>>d);0!=d&&Ie(this,this.h>>d-1&1);break a;case 1:c=0;d>=e.width&&((this.h&e.sign)!=(this.h&e.sign>>>1)&&(c=1),this.h<<=1,d=e.width-1);Q(e,this.h<<d);0!=d&&(Ie(this,this.h<<d-1&e.sign),0==c&&(c=e.Ab,c=c<<e.width-d-1&c,c=(this.h&c)!=c&&0!=(this.h&c)?1:0),0!=
c&&Ee(this,-1));break a;case 2:this.h&=e.Ab;d>=e.width&&(this.h>>>=1,d=e.width-1);Q(e,this.h>>>d);0!=d&&Ie(this,this.h>>>d-1&1);break a;case 3:d>=e.width&&(this.h<<=1,d=e.width-1);Q(e,this.h<<d);0!=d&&Ie(this,this.h<<d-1&e.sign);break a;case 4:for(this.h&=e.Ab;0!=d--;)a=this.h>>>1|fe(this)&e.sign,Ke(this,this.h&1),this.h=a;Q(e,this.h);Le(this,fe(this));break a;case 5:for(;0!=d--;)a=this.h<<1|fe(this)&1,Ke(this,this.h&e.sign),this.h=a;Q(e,this.h);Le(this,fe(this));break a;case 6:if(0==d){Q(e,this.h);
break a}for(this.h&=e.Ab;0!=d--;)a=this.h>>>1|(this.h&1)<<e.width-1,Le(this,this.h&1),this.h=a;Me(e,this.h);break a;case 7:if(0==d)Q(e,this.h);else{for(;0!=d--;)a=this.h<<1|(this.h&e.sign)>>>e.width-1,Le(this,this.h&e.sign),this.h=a;Me(e,this.h)}}break;case 15:if(a=this.pa&&(c&Ne)==Oe)a=!1;if(a){this.o=this.Ta;this.M|=ke;return}}if(0!=(this.M&Pe)&&(this.M&(Pe|Qe))!=(Re|Qe))break}};
function Wd(a){Se(a);Te(a);I(a,"A0",function(){return a.j[0]},function(b){return a.j[0]=b});I(a,"A1",function(){return a.j[1]},function(b){return a.j[1]=b});I(a,"A2",function(){return a.j[2]},function(b){return a.j[2]=b});I(a,"A3",function(){return a.j[3]},function(b){return a.j[3]=b});I(a,"A4",function(){return a.j[4]},function(b){return a.j[4]=b});I(a,"A5",function(){return a.j[5]},function(b){return a.j[5]=b});I(a,"A6",function(){return a.j[6]},function(b){return a.j[6]=b});I(a,"A7",function(){return a.j[7]},
function(b){return a.j[7]=b});I(a,"D0",function(){return a.m[0]},function(b){return a.m[0]=b});I(a,"D1",function(){return a.m[1]},function(b){return a.m[1]=b});I(a,"D2",function(){return a.m[2]},function(b){return a.m[2]=b});I(a,"D3",function(){return a.m[3]},function(b){return a.m[3]=b});I(a,"D4",function(){return a.m[4]},function(b){return a.m[4]=b});I(a,"D5",function(){return a.m[5]},function(b){return a.m[5]=b});I(a,"D6",function(){return a.m[6]},function(b){return a.m[6]=b});I(a,"D7",function(){return a.m[7]},
function(b){return a.m[7]=b});I(a,"C",function(){return ye(a)?1:0},function(b){return Le(a,b)});I(a,"V",function(){return V(a)?1:0},function(b){return Ee(a,b)});I(a,"Z",function(){return ze(a)?1:0},function(b){a.l=0==b?-1:0});I(a,"N",function(){return X(a)?1:0},function(b){a.O=0!=b?-1:0});I(a,"X",function(){return fe(a)?1:0},function(b){return Ke(a,b)});I(a,Td.ee,function(){return a.o},function(b){return a.o=b})}
function Te(a){var b=0;a.H=Array(Ue*Ve+1);a.H[b++]=new We(a);a.H[b++]=new Xe(a);a.H[b++]=a.X=new Ye(a);a.H[b++]=new Ze(a);a.H[b++]=new $e(a);a.H[b++]=new af(a);a.H[b++]=new bf(a);a.H[b++]=new cf(a);a.H[b++]=new df(a);a.H[b++]=new ef(a);a.H[b++]=new ff(a);a.H[b++]=new gf(a);a.H[b++]=new hf(a);a.H[b++]=new jf(a);a.H[b++]=new kf(a);a.H[b++]=new lf(a);a.H[b++]=new mf(a);a.H[b++]=new nf(a);a.H[b++]=new of(a);a.H[b++]=new pf(a);a.H[b++]=new qf(a);a.H[b++]=new rf(a);a.H[b++]=new sf(a);a.H[b++]=new tf(a);
a.H[b++]=new uf(a);a.H[b++]=new vf(a);a.H[b++]=new wf(a);a.H[b++]=new xf(a);a.H[b++]=new yf(a);a.H[b++]=new zf(a);a.H[b++]=new Af(a);a.H[b++]=new Bf(a);a.H[b++]=new Cf(a);a.H[b++]=new Df(a);a.H[b++]=new Ef(a);a.H[b++]=new Ff(a);a.H[b++]=new Ze(a);a.Z=Array(256);Gf(a.Z,0);a.Ba=Array(256);Gf(a.Ba,7);a.V=Array(256);Gf(a.V,1024);a.Ea=Array(256);Gf(a.Ea,1025);a.L=Array(256);Gf(a.L,1031);a.ga=Array(256);Gf(a.ga,3079);a.Ja=Array(256);Gf(a.Ja,3201);a.Ra=Array(256);Gf(a.Ra,3335);a.qa=Array(256);Gf(a.qa,3457);
a.Va=Array(256);b=a.Va;for(var c=0,d=0;d<Ue&&c<b.length;d++){var f,g;for(f=0;8>f;f++){for(g=0;7>g;g++)0!=(1024&2048>>g)?b[c++]=Hf:b[c++]=g*Ue+d;5<=f?b[c++]=Hf:0!=(1024&16>>f)?b[c++]=Hf:b[c++]=(g+f)*Ue+d}}a.$=Array(6);a.$[0]=Je;a.$[1]=If;a.$[2]=ie;a.$[3]=Jf;a.$[4]=Xd;a.$[5]=Kf}function Gf(a,b){for(var c=0,d=0;d<Ue&&c<a.length;d++){var f,g;for(f=0;7>f;f++)for(g=0;8>g;g++)0!=(b&2048>>f)?a[c++]=Hf:a[c++]=f*Ue+d;for(g=0;5>g;g++)0!=(b&16>>g)?a[c++]=Hf:a[c++]=(f+g)*Ue+d;for(;8>g;g++)a[c++]=Hf}}
h.Ga=function(a){if(!a||!a.length)return B(this,"invalid saved state"),!1;var b=a.shift(),c=a.shift();if(b!=this.ia||2!==(c|0))return this.Y("CPU state mismatch (%s %3.2f)\n",b,c),!1;try{this.j=a.shift(),this.m=a.shift()}catch(d){return B(this,"CPU state error: "+d.message),!1}return!0};h.Ia=function(a){a.push(this.ia);a.push(2);a.push(this.j);a.push(this.m)};h.Db=function(a){return a&&this.Ga(a[0])?(a.shift(),!0):!1};h.Fa=function(a){a?(this.time.start(),this.ab&&Xb(this.ab)):Ec(this.time)};
h.Ca=function(){B(this,"reset");Lf(this);this.time.h||this.Qa(this.toString())};h.cb=function(a){var b=[];this.Ia(b);a.push(b)};h.$b=function(){};function T(a){var b=a.flags&~(Mf|Nf|Of|Pf|Qf);0==a.l&&(b|=Of);0>a.O&&(b|=Nf);a.N>>>0>a.S>>>0&&(b|=Qf);a.da>>>0>a.la>>>0&&(b|=Mf);0>a.u!=0>a.s&&0>a.v!=0>a.s&&(b|=Pf);return b}function ye(a){return a.N>>>0>a.S>>>0?-1:0}function V(a){return 0>a.u!=0>a.s&&0>a.v!=0>a.s?-1:0}function ze(a){return 0==a.l?-1:0}function X(a){return 0>a.O?-1:0}
function fe(a){return a.da>>>0>a.la>>>0?-1:0}function xe(a){return a.N>>>0<=a.S>>>0&&0!=a.l?-1:0}function Ae(a){var b=0!=X(a);a=0!=V(a);return b&&a||!b&&!a?-1:0}function Be(a){var b=0!=X(a);a=0!=V(a);return b&&!a||!b&&a?-1:0}function Ce(a){var b=0!=ze(a),c=0!=X(a);a=0!=V(a);return c&&a&&!b||!c&&!a&&!b?-1:0}function De(a){var b=0!=X(a),c=0!=V(a);return 0!=ze(a)||b&&!c||!b&&c?-1:0}
function Zd(a,b){a.O=0;a.N=a.S=0;a.u=a.s=0;a.da=a.la=0;a.l=a.ma=0;0==(b&Of)&&(a.l=-1);0!=(b&Nf)&&(a.O=-1);0!=(b&Qf)&&(a.N=-1);0!=(b&Mf)&&(a.da=-1);0!=(b&Pf)&&(a.u=a.v=-1)}function ae(a,b){(b&Rf)<(a.flags&Rf)&&(a.M|=Sf);a.flags&=ge;a.flags|=b&~ge;Zd(a,b)}function Le(a,b){a.N=a.S=0;0!=b&&(a.N=-1)}function Ee(a,b){a.u=a.s=0;0!=b&&(a.u=a.v=-1)}function Ke(a,b){a.da=a.la=0;0!=b&&(a.da=-1)}function Ie(a,b){a.N=a.S=0;a.da=a.la=0;0!=b&&(a.N=a.da=-1)}
function Se(a){a.M=0;a.o=0;a.Ta=0;a.bb=0;a.za=0;a.m=[0,0,0,0,0,0,0,0];a.j=[0,0,0,0,0,0,0,0];a.i=a.h=0;Lf(a)}function Lf(a){ae(a,$d);a.M&=~Tf;for(var b=0;b<a.m.length;b++)a.m[b]=0;for(b=0;b<a.j.length;b++)a.j[b]=0;a.o=a.Ta=a.Sb;a.Rb=0}function S(a,b){a.ba-=b}function Uf(a,b){return a.K.Aa(b)|0}function Vf(a,b,c){a.K.ya(b,c&255)}function U(a,b,c){a.K.ka(b,c&65535)}function Wf(a,b,c){a.K.xa(b,c&4294967295)}function P(a){var b=a.K.ca(a.o);a.o+=2;return b}
function Xf(a){var b=a.K.ja(a.o);a.o+=4;return b}function pe(a){var b=a.K.ja(a.j[7]);a.j[7]+=4;return b}function he(a,b){Wf(a,a.j[7]-=4,b)}h.toString=function(){return this.T("D0=%08x D1=%08x D2=%08x D3=%08x\nD4=%08x D5=%08x D6=%08x D7=%08x\nA0=%08x A1=%08x A2=%08x A3=%08x\nA4=%08x A5=%08x A6=%08x A7=%08x SR=%04x\n",this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5],this.m[6],this.m[7],this.j[0],this.j[1],this.j[2],this.j[3],this.j[4],this.j[5],this.j[6],this.j[7],T(this))};
var ne=2,oe=3,qe=1316159485,se=1316159486,Oe=61443,Ne=65535,le=0,Re=64,Qe=128,ue=256,ke=2048,Sf=8192,re=32768,te=65536,Tf=ue|1536|ke|4096|Sf|16384|re|te|131072,Pe=56|ue|Re|ke|Sf|16384,Yf=[1,1,1,1,1,1,1,2],we=[8,1,2,3,4,5,6,7],Ue=3,Ve=12,Fe=0,Je=0,ie=1,Xd=2,Hf=3,Ge=5,He=9,ve=10,If=12,Jf=13,Kf=14,Yd=33,de=34,Qf=1,Pf=2,Of=4,Nf=8,Mf=16,ge=31,Rf=1792,$d=8192,me=32768;w.CPU68K=Vd;function Zf(a,b,c){gd.call(this,a,b,c);this.ga=6}r(Zf,gd);
Zf.prototype.ec=function(a,b,c){var d=Jd(this,a);b=md(this,a,Ud.Rc);a=md(this,a,Ud.wc);d=this.T("%s %-7s %-7s %s",d,"");c?a&&(c+=" "+a):a&&(c=a);c&&(d=this.T("%-32s; %s",d,c));b&&(d=b+":\n"+d);return d+"\n"};w.Dbg68K=Zf;function Y(a,b,c,d,f){this.g=a;this.h=0;this.Ab=b;this.sign=c;this.width=d;this.Oa=2*f;this.oa=4*f;this.na=this.Yb=this.od=this.va=this.Ya=0}h=Y.prototype;h.U=function(a){return this.h=a};h.getData=function(){return 0};h.setData=function(){};h.R=function(){};h.W=function(){};
h.ea=function(a){var b=this.g.Tb;this.U(a);this.g.Tb=b};h.I=function(a){this.U(a);return this.getData()};h.cc=function(a,b){this.U(a);this.setData(b)};function je(a,b){a.R(b);a.g.O=a.g.l;a.g.u=a.g.s=0;a.g.N=a.g.S=0}function Me(a,b){a.setData(b);a.R(b);a.g.O=a.g.l;a.g.s=0;a.g.u=0}function Q(a,b){a.setData(b);a.R(b);a.g.O=a.g.l;a.g.u=a.g.s=0;a.g.N=a.g.S=0}h.eb=function(a,b){this.U(a);this.setData(b);this.R(b);this.g.O=this.g.l;this.g.u=this.g.s=0;this.g.N=this.g.S=0};
function $f(a,b){a.R(b);a.g.O=a.g.l;a.W();a.g.N=a.g.da=a.g.v;a.g.S=a.g.la=a.g.s}function ee(a,b){a.R(b);a.g.O=a.g.l;a.W();a.g.N=a.g.v;a.g.S=a.g.s}function be(a,b){a.setData(b);$f(a,b)}function ce(a,b){a.setData(b);$f(a,b);a.g.v=~a.g.v;a.g.S=a.g.la=~a.g.S}function ag(a,b){var c=P(a.g),d=(c&28672)>>12;return 0!=(c&2048)?0!=(c&32768)?b+a.g.j[d]+(c<<24>>24):b+a.g.m[d]+(c<<24>>24):0!=(c&32768)?b+(a.g.j[d]<<16>>16)+(c<<24>>24):b+(a.g.m[d]<<16>>16)+(c<<24>>24)}function Ze(a){Y.call(this,a,0,0,0,0)}
r(Ze,Y);h=Ze.prototype;h.U=function(){return 0};h.getData=function(){return 0};h.setData=function(){};h.R=function(){};h.W=function(){};function We(a){Y.call(this,a,255,128,8,0);this.na=2;this.va=4}r(We,Y);h=We.prototype;h.getData=function(){return this.g.m[this.h]<<24>>24};h.I=function(a){return this.g.m[this.h=a]<<24>>24};h.setData=function(a){this.g.m[this.h]=this.g.m[this.h]&-256|a&255};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};
h.eb=function(a,b){this.h=a;this.g.m[this.h]=this.g.m[this.h]&-256|b&255;this.g.l=b<<24>>24;this.g.O=this.g.l;this.g.u=this.g.s=0;this.g.N=this.g.S=0};function Xe(a){Y.call(this,a,65535,32768,16,0);this.na=2;this.va=4}r(Xe,Y);h=Xe.prototype;h.getData=function(){return this.g.m[this.h]<<16>>16};h.I=function(a){return this.g.m[this.h=a]<<16>>16};h.setData=function(a){this.g.m[this.h]=this.g.m[this.h]&-65536|a&65535};h.R=function(a){this.g.l=a<<16>>16};
h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};h.eb=function(a,b){this.h=a;this.g.m[this.h]=this.g.m[this.h]&-65536|b&65535;this.g.l=b<<16>>16;this.g.O=this.g.l;this.g.u=this.g.s=0;this.g.N=this.g.S=0};function Ye(a){Y.call(this,a,4294967295,2147483648,32,1);this.Yb=this.na=this.Ya=2;this.va=4}r(Ye,Y);h=Ye.prototype;h.getData=function(){return this.g.m[this.h]};h.I=function(a){return this.g.m[this.h=a]};h.setData=function(a){this.g.m[this.h]=a};
h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};h.eb=function(a,b){this.h=a;this.g.m[this.h]=b;this.g.l=b;this.g.O=this.g.l;this.g.u=this.g.s=0;this.g.N=this.g.S=0};function $e(a){Y.call(this,a,65535,32768,16,0);this.na=2;this.od=this.va=4}r($e,Y);$e.prototype.getData=function(){return this.g.j[this.h]<<16>>16};$e.prototype.setData=function(a){this.g.j[this.h]=a};$e.prototype.R=function(a){this.g.l=a<<16>>16};
$e.prototype.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function af(a){Y.call(this,a,4294967295,2147483648,32,1);this.na=this.Ya=2;this.va=4}r(af,Y);h=af.prototype;h.getData=function(){return this.g.j[this.h]};h.setData=function(a){this.g.j[this.h]=a};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};h.cc=function(a,b){this.g.j[this.h=a]=b};function bf(a){Y.call(this,a,255,128,8,0)}r(bf,Y);h=bf.prototype;
h.U=function(a){S(this.g,4);return this.h=this.g.j[a]};h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function cf(a){Y.call(this,a,65535,32768,16,0)}r(cf,Y);h=cf.prototype;h.U=function(a){S(this.g,4);return this.h=this.g.j[a]};h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};
h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function df(a){Y.call(this,a,4294967295,2147483648,32,1)}r(df,Y);h=df.prototype;h.U=function(a){S(this.g,8);return this.h=this.g.j[a]};h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};
h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function ef(a){Y.call(this,a,255,128,8,0)}r(ef,Y);h=ef.prototype;h.U=function(a){S(this.g,4);this.h=this.g.j[a];this.g.j[a]+=Yf[a];return this.h};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function ff(a){Y.call(this,a,65535,32768,16,0)}r(ff,Y);h=ff.prototype;
h.U=function(a){S(this.g,4);this.h=this.g.j[a];this.g.j[a]+=2;return this.h};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function gf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(gf,Y);h=gf.prototype;h.U=function(a){S(this.g,8);this.h=this.g.j[a];this.g.j[a]+=4;return this.h};h.getData=function(){return this.g.K.ja(this.h)};
h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function hf(a){Y.call(this,a,255,128,8,0)}r(hf,Y);h=hf.prototype;h.U=function(a){S(this.g,4);this.g.j[a]-=Yf[a];return this.h=this.g.j[a]};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};
function jf(a){Y.call(this,a,65535,32768,16,0)}r(jf,Y);h=jf.prototype;h.U=function(a){S(this.g,4);this.g.j[a]-=2;return this.h=this.g.j[a]};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function kf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(kf,Y);h=kf.prototype;h.U=function(a){S(this.g,8);this.g.j[a]-=4;return this.h=this.g.j[a]};
h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function lf(a){Y.call(this,a,255,128,8,0)}r(lf,Y);h=lf.prototype;h.U=function(a){S(this.g,8);return this.h=this.g.j[a]+P(this.g)};h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};
h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function mf(a){Y.call(this,a,65535,32768,16,0)}r(mf,Y);h=mf.prototype;h.U=function(a){S(this.g,8);return this.h=this.g.j[a]+P(this.g)};h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};
function nf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(nf,Y);h=nf.prototype;h.U=function(a){S(this.g,12);return this.h=this.g.j[a]+P(this.g)};h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function of(a){Y.call(this,a,255,128,8,0)}r(of,Y);h=of.prototype;h.U=function(a){S(this.g,10);return this.h=ag(this,this.g.j[a])};
h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function pf(a){Y.call(this,a,65535,32768,16,0)}r(pf,Y);h=pf.prototype;h.U=function(a){S(this.g,10);return this.h=ag(this,this.g.j[a])};h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};
h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function qf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(qf,Y);h=qf.prototype;h.U=function(a){S(this.g,14);return this.h=ag(this,this.g.j[a])};h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};
function rf(a){Y.call(this,a,255,128,8,0)}r(rf,Y);h=rf.prototype;h.U=function(){S(this.g,8);return this.h=P(this.g)};h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function sf(a){Y.call(this,a,65535,32768,16,0)}r(sf,Y);h=sf.prototype;h.U=function(){S(this.g,8);return this.h=P(this.g)};
h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function tf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(tf,Y);h=tf.prototype;h.U=function(){S(this.g,12);return this.h=P(this.g)};h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};
h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function uf(a){Y.call(this,a,255,128,8,0)}r(uf,Y);h=uf.prototype;h.U=function(){S(this.g,12);return this.h=Xf(this.g)};h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};
function vf(a){Y.call(this,a,65535,32768,16,0)}r(vf,Y);h=vf.prototype;h.U=function(){S(this.g,12);return this.h=Xf(this.g)};h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function wf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(wf,Y);h=wf.prototype;h.U=function(){S(this.g,16);return this.h=Xf(this.g)};
h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function xf(a){Y.call(this,a,255,128,8,0)}r(xf,Y);h=xf.prototype;h.U=function(){S(this.g,8);return this.h=this.g.o+P(this.g)};h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};
h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function yf(a){Y.call(this,a,65535,32768,16,0)}r(yf,Y);h=yf.prototype;h.U=function(){S(this.g,8);return this.h=this.g.o+P(this.g)};h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};
function zf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(zf,Y);h=zf.prototype;h.U=function(){S(this.g,12);return this.h=this.g.o+P(this.g)};h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};function Af(a){Y.call(this,a,255,128,8,0)}r(Af,Y);h=Af.prototype;h.U=function(){S(this.g,10);return this.h=ag(this,this.g.o)};
h.ea=function(){this.h+=1};h.getData=function(){return Uf(this.g,this.h)};h.setData=function(a){Vf(this.g,this.h,a)};h.R=function(a){this.g.l=a<<24>>24};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<24>>24;this.g.v=this.g.i<<24>>24};function Bf(a){Y.call(this,a,65535,32768,16,0)}r(Bf,Y);h=Bf.prototype;h.U=function(){S(this.g,10);return this.h=ag(this,this.g.o)};h.ea=function(){this.h+=2};h.getData=function(){return this.g.K.ca(this.h)};h.setData=function(a){U(this.g,this.h,a)};
h.R=function(a){this.g.l=a<<16>>16};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h<<16>>16;this.g.v=this.g.i<<16>>16};function Cf(a){Y.call(this,a,4294967295,2147483648,32,1)}r(Cf,Y);h=Cf.prototype;h.U=function(){S(this.g,14);return this.h=ag(this,this.g.o)};h.ea=function(){this.h+=4};h.getData=function(){return this.g.K.ja(this.h)};h.setData=function(a){Wf(this.g,this.h,a)};h.R=function(a){this.g.l=a};h.W=function(){this.g.u=this.g.l;this.g.s=this.g.h;this.g.v=this.g.i};
function Df(a){Y.call(this,a,255,128,8,0);this.na=2}r(Df,Y);h=Df.prototype;h.U=function(){S(this.g,4);this.h=this.g.o+1;this.g.o+=2;return this.h};h.getData=function(){return Uf(this.g,this.h)};h.I=function(){S(this.g,4);this.h=this.g.o+1;return P(this.g)<<24>>24};h.setData=function(){};h.R=function(){};h.W=function(){};function Ef(a){Y.call(this,a,65535,32768,16,0);this.na=2}r(Ef,Y);h=Ef.prototype;h.U=function(){S(this.g,4);this.h=this.g.o;this.g.o+=2;return this.h};h.getData=function(){return this.g.K.ca(this.h)};
h.I=function(){S(this.g,4);this.h=this.g.o;return P(this.g)};h.setData=function(){};h.R=function(){};h.W=function(){};function Ff(a){Y.call(this,a,4294967295,2147483648,32,1);this.na=2}r(Ff,Y);h=Ff.prototype;h.U=function(){S(this.g,8);this.h=this.g.o;this.g.o+=4;return this.h};h.getData=function(){return this.g.K.ja(this.h)};h.I=function(){S(this.g,8);this.h=this.g.o;return Xf(this.g)};h.setData=function(){};h.R=function(){};h.W=function(){};
function bg(a,b,c){K.call(this,a,b,c);J(this,"Input");this.l=qb(this,this.J.bus);Wc(this.l,cg,dg,L.Ua,this);this.Ca()}r(bg,K);h=bg.prototype;h.Ga=function(a){return a&&(a=a.shift(),this.ia==a)?!0:!1};h.Ia=function(a){a.push(this.ia)};h.Ca=function(){for(var a in eg)this.Y("reset byte I/O register 0x%08x to 0x%02x\n",cg+a,eg[a])};h.Aa=function(a){this.Y("PilotIO.readData(0x%08x): 0x%02x\n",cg+a,0);return 0};h.ya=function(a,b){this.Y("PilotIO.writeData(0x%08x, 0x%02x)\n",cg+a,b)};
var cg=4294963200,dg=4096,Z={},eg=(Z[519]=31,Z[1050]=255,Z[1058]=128,Z[1059]=128,Z[1066]=255,Z[1067]=255,Z[1074]=255,Z[1075]=255,Z[1090]=63,Z[1091]=63,Z[1098]=255,Z[1099]=2,Z[5]=10,Z[31]=127,Z[39]=64,Z[41]=10,Z[43]=63,Z[49]=185,Z);w.PilotIO=bg;
function fg(a,b,c){tc.call(this,a,b,c);this.ba=this.J.bufferAddr;this.Tb=this.J.bufferRAM;this.Ce=this.J.bufferWidth;this.De=this.J.bufferHeight;this.bb=this.J.cellWidth||1;this.Rb=this.J.cellHeight||1;this.Z=this.J.bufferBits||1;this.Be=this.J.bufferLeft||0;if(this.i=this.J.bufferRotate)this.i=this.i%360,0<this.i&&(this.i-=360),-90!=this.i&&(this.Y("unsupported buffer rotation: %d\n",this.i),this.i=0);this.$=this.J.interruptRate;this.Ja=this.J.refreshRate||60;this.H=qb(this,this.J.bus);this.o=this.Ce*
this.bb;this.L=this.De*this.Rb;a=this.o;b=this.L;this.i&&(a=this.L,b=this.o);this.O=(this.o*this.Z>>3)*this.L;if(this.Tb||Wc(this.H,this.ba,this.O,L.Ua))this.V=this.H.l,this.qa=this.v.createImageData(a,b),this.za=Math.trunc(this.V/this.Z),xc(this,Math.ceil(this.O/(this.V>>3))),this.u=document.createElement("canvas"),this.u.width=a,this.u.height=b,this.ab=this.u.getContext("2d"),this.N=1<<this.Z,this.K=Array(this.N+gg),this.K[0]=[0,0,0,255],this.K[1]=[255,255,255,255],this.K[this.N+hg]=[255,255,0,
255],this.K[this.N+ig]=[0,255,0,255],this.Ra&&(this.v[this.Ra]=null==this.ma?!1:this.ma);this.g=J(this,"CPU");this.time=J(this,"Time");this.Va=Hb(this.time,this.ia,this.Ee.bind(this));this.time.O.push(this);Mb(this.time,this.Va,1E3/Math.max(this.Ja,this.$));this.Ba=0}r(fg,tc);fg.prototype.$b=function(){this.time.h||yc(this)};function xc(a,b){a.da=!1;b&&(a.ua=b,void 0===a.S||a.S.length!=a.ua)&&(a.S=Array(a.ua))}
fg.prototype.Ee=function(a){var b=!0;if(!a){this.$&&120==this.$&&this.Ba&1&&(b=!1);if(b&&this.da&&this.O){a=this.H;var c=this.ba,d=this.O,f=!0,g=c>>>a.j;for(c=a.blockSize-(c&a.i);0<d&&g<a.h.length;){var e=a.h[g];e.S?(e.S=!1,e.H.type==Uc&&(e.i?(e.N=e.ic,e.u=e.lc,e.v=e.oc):(e.ya=e.ic,e.ka=e.lc,e.xa=e.oc)),e=!0):e=!1;e&&(f=!1);d-=c;c=a.blockSize;g++}f&&(b=!1)}Mb(this.time,this.Va,1E3/Math.max(this.Ja,this.$));this.Ba++;if(!b)return}yc(this)};
function yc(a){var b=a.ba,c=b+a.O,d=0,f=0,g=0,e=a.o,k=0,l=a.L,p=0,n=0,q=a.Z,v=(1<<q)-1;a.Be&&(q=-q,n=a.V+q);for(var A=a.V/a.H.l|0;b<c;){var z=a.H.Aa(b);if(a.da&&z===a.S[d])f+=a.za;else{a.S[d]=z;var x=n;x&&(z=z>>8|(z&255)<<8);f<e&&(e=f);for(var C=a.za;C--;){var u=z>>x&v,W=a.qa,R=f++,$b=u;u=a.i?(W.height-R-1)*W.width+g:R+g*W.width;$b&&(208<=R&&236>R?$b=a.N+hg:28<=R&&72>R&&($b=a.N+ig));R=a.K[$b];u*=R.length;W.data[u]=R[0];W.data[u+1]=R[1];W.data[u+2]=R[2];W.data[u+3]=R[3];x+=q}f>k&&(k=f);g<l&&(l=g);
g>=p&&(p=g+1)}b+=A;d++;if(f>=a.o&&(f=0,g++,g>a.L))break}a.da=!0;e<a.o&&(b=k-e,p-=l,a.i&&(c=e,d=b,e=l,b=p,l=a.o-(c+d),p=d),a.ab.putImageData(a.qa,0,0,e,l,b,p),a.v.drawImage(a.u,0,0,a.u.width,a.u.height,0,0,a.X,a.M))}var hg=0,ig=1,gg=2;w.PilotVideo=fg;
function jg(a,b,c){H.call(this,a,a);var d=this;this.j=!1;this.s=c;this.i="";this.o=this.m=!1;wb(this,!1);this.Da=t.Cd;b=b.trim();"{"==b[0]?kg(this,b):(this.i=b,Ta(this.i,function(f,g,e,k){4==e&&(!k&&g?(kg(d,g),lg(d)):d.Y("error (%d) loading configuration: %s\n",k,f))}));window.addEventListener("load",function(){d.o=!0;lg(d)});window.addEventListener(Ya("iOS")?"pagehide":Ya("Opera")?"unload":"beforeunload",function(){mg(d)});window.addEventListener("pageshow",function(){d.j||d.Fa(!0)})}r(jg,H);
jg.prototype.Wa=function(a,b){var c=this;switch(a){case ng:b.onclick=function(){c.Fa()};break;case og:b.onclick=function(){c.Ca()}}H.prototype.Wa.call(this,a,b)};
function lg(a){var b=!0;if(a.m&&a.o){for(var c in a.h){var d=void 0,f=a.h[c];try{d=f["class"],w[d]?"Machine"==d?(a.Y("PCjs %s v%3.2f\n%s\n",f.name,2,"Copyright \u00a9 2012-2022 Jeff Parsons <Jeff@pcjs.org>"),a.i&&a.Y("Configuration: %s\n",a.i)):new w[d](a.fa,c,f):a.Y('unrecognized %s device "%s"\n',d,c)}catch(e){f.optional||(a.Y('error initializing %s device "%s": %s\n',d,c,e.message),b=!1),yb(a,c)}}if(a.l){var g=Za(a);sb(a,function(e){return e.Db&&!e.Db(g)?(e.Y('unable to restore state for device "%s"\n',
e.ia),!1):!0})}wb(a,!0);xb(a,a.Fa.bind(a,b))||a.Y("machine %s not ready to power, waiting for device(s)\n",a.fa)}}
function kg(a,b){try{a.h=JSON.parse(b);var c=a.h[a.fa];if(!c){c=a.h[Aa(a.i)];if(!c)throw Error("configuration missing machine ID");a.h[a.fa]=c}rb(a,c,["autoSave","autoStart"]);a.l=!1!==a.J.autoSave;a.u=!1!==a.J.autoStart;if(a.s){var d=eval("("+a.s+")"),f;for(f in d)a.J[f]=d[f]}a.m=!0}catch(g){c=g.message,(d=c.match(/position ([0-9]+)/))&&(c+=" ('"+b.substr(+d[1],40).replace(/\s+/g," ")+"...')"),B(a,"machine '"+a.fa+"' initialization error: "+c)}}
jg.prototype.Fa=function(a){a=void 0===a?!this.j:a;if(vb(this)){var b=this;a&&B(this,"power on");sb(this,function(c){c.Fa&&c!=b&&("CPU"!=c.J["class"]||b.u||vb(b)?c.Fa(a):c.time.update(!0));return!0});(this.j=a)||B(this,"power off")}};jg.prototype.Ca=function(){if(vb(this)){var a=this;sb(this,function(b){b.Ca&&b!=a&&b.Ca();return!0});B(this,"reset")}};function mg(a){if(a.l){var b=[];sb(a,function(c){c.cb&&c.cb(b);return!0});gb(a,b)}a.Fa(!1)}var ng="power",og="reset";
window.Pilot=function(a,b,c){var d=new jg(a,b,c);window.command=function(f){return $a(d,f)};return d};w.Machine=jg;})()

//# sourceMappingURL=palm-pilot.js.map
